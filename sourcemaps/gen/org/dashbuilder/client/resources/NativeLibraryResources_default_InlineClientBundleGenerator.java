package org.dashbuilder.client.resources;

import com.google.gwt.core.client.GWT;
import com.google.gwt.resources.client.ResourcePrototype;

public class NativeLibraryResources_default_InlineClientBundleGenerator implements org.dashbuilder.client.resources.NativeLibraryResources {
  private static NativeLibraryResources_default_InlineClientBundleGenerator _instance0 = new NativeLibraryResources_default_InlineClientBundleGenerator();
  private void jsYamlInitializer() {
    jsYaml = new com.google.gwt.resources.client.TextResource() {
      // file:/home/wsiqueir/projects/kogito-tooling/packages/dashbuilder/dashbuilder-runtime-parent/dashbuilder-runtime-client/src/main/webapp/WEB-INF/classes/org/dashbuilder/client/resources/js/js-yaml.min.js
      public String getText() {
        StringBuilder builder = new StringBuilder();
        builder.append("/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).jsyaml={})}(this,(function(e){\"use strict\";function t(e){return null==e}var n={isNothing:t,isObject:function(e){return\"object\"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:t(e)?[]:[e]},repeat:function(e,t){var n,i=\"\";for(n=0;n<t;n+=1)i+=e;return i},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,i,r,o;if(t)for(n=0,i=(o=Object.keys(t)).length;n<i;n+=1)e[r=o[n]]=t[r];return e}};function i(e,t){var n=\"\",i=e.reason||\"(unknown reason)\";return e.mark?(e.mark.name&&(n+='in \"'+e.mark.name+'\" '),n+=\"(\"+(e.mark.line+1)+\":\"+(e.mark.column+1)+\")\",!t&&e.mark.snippet&&(n+=\"\\n\\n\"+e.mark.snippet),i+\" \"+n):i}function r(e,t){Error.call(this),this.name=\"YAMLException\",this.reason=e,this.mark=t,this.message=i(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||\"\"}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){return this.name+\": \"+i(this,e)};var o=r;function a(e,t,n,i,r){var o=\"\",a=\"\",l=Math.floor(r/2)-1;return i-t>l&&(t=i-l+(o=\" ... \").length),n-i>l&&(n=i+l-(a=\" ...\").length),{str:o+e.slice(t,n).replace(/\\t/g,\"â†’\")+a,pos:i-t+o.length}}function l(e,t){return n.repeat(\" \",t-e.length)+e}var c=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),\"number\"!=typeof t.indent&&(t.indent=1),\"number\"!=typeof t.linesBefore&&(t.linesBefore=3),\"number\"!=typeof t.linesAfter&&(t.linesAfter=2);for(var i,r=/\\r?\\n|\\r|\\0/g,o=[0],c=[],s=-1;i=r.exec(e.buffer);)c.push(i.index),o.push(i.index+i[0].length),e.position<=i.index&&s<0&&(s=o.length-2);s<0&&(s=o.length-1);var u,p,f=\"\",d=Math.min(e.line+t.linesAfter,c.length).toString().length,h=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)p=a(e.buffer,o[s-u],c[s-u],e.position-(o[s]-o[s-u]),h),f=n.repeat(\" \",t.indent)+l((e.line-u+1).toString(),d)+\" | \"+p.str+\"\\n\"+f;for(p=a(e.buffer,o[s],c[s],e.position,h),f+=n.repeat(\" \",t.indent)+l((e.line+1).toString(),d)+\" | \"+p.str+\"\\n\",f+=n.repeat(\"-\",t.indent+d+3+p.pos)+\"^\\n\",u=1;u<=t.linesAfter&&!(s+u>=c.length);u++)p=a(e.buffer,o[s+u],c[s+u],e.position-(o[s]-o[s+u]),h),f+=n.repeat(\" \",t.indent)+l((e.line+u+1).toString(),d)+\" | \"+p.str+\"\\n\";return f.replace(/\\n$/,\"\")},s=[\"kind\",\"multi\",\"resolve\",\"construct\",\"instanceOf\",\"predicate\",\"represent\",\"representName\",\"defaultStyle\",\"styleAliases\"],u=[\"scalar\",\"sequence\",\"mapping\"];var p=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===s.indexOf(t))throw new o('Unknown option \"'+t+'\" is met in definition of \"'+e+'\" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===u.indexOf(this.kind))throw new o('Unknown kind \"'+this.kind+'\" is specified for \"'+e+'\" YAML type.')};function f(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,i){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=i)})),n[t]=e})),n}function d(e){return this.extend(e)}d.prototype.extend=function(e){var t=[],n=[];if(e instanceof p)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new o(\"Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })\");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof p))throw new o(\"Specified list of YAML types (or a single Type object) contains a non-Type object.\");if(e.loadKind&&\"scalar\"!==e.loadKind)throw new o(\"There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.\");if(e.multi)throw new o(\"There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.\")})),n.forEach((function(e){if(!(e instanceof p))throw new o(\"Specified list of YAML types (or a single Type object) contains a non-Type object.\")}));var i=Object.create(d.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=f(i,\"implicit\"),i.compiledExplicit=f(i,\"explicit\"),i.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}(i.compiledImplicit,i.compiledExplicit),i};var h=d,g=new p(\"tag:yaml.org,2002:str\",{kind:\"scalar\",construct:function(e){return null!==e?e:\"\"}}),m=new p(\"tag:yaml.org,2002:seq\",{kind:\"sequence\",construct:function(e){return null!==e?e:[]}}),y=new p(\"tag:yaml.org,2002:map\",{kind:\"mapping\",construct:function(e){return null!==e?e:{}}}),b=new h({explicit:[g,m,y]});var A=new p(\"tag:yaml.org,2002:null\",{kind:\"scalar\",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&\"~\"===e||4===t&&(\"null\"===e||\"Null\"===e||\"NULL\"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return\"~\"},lowercase:function(){return\"null\"},uppercase:function(){return\"NULL\"},camelcase:function(){return\"Null\"},empty:function(){return\"\"}},defaultStyle:\"lowercase\"});var v=new p(\"tag:yaml.org,2002:bool\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&(\"true\"===e||\"True\"===e||\"TRUE\"===e)||5===t&&(\"false\"===e||\"False\"===e||\"FALSE\"===e)},construct:function(e){return\"true\"===e||\"True\"===e||\"TRUE\"===e},predicate:function(e){return\"[object Boolean]\"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?\"true\":\"false\"},uppercase:function(e){return e?\"TRUE\":\"FALSE\"},camelcase:function(e){return e?\"True\":\"False\"}},defaultStyle:\"lowercase\"});function w(e){return 48<=e&&e<=55}function k(e){return 48<=e&&e<=57}var C=new p(\"tag:yaml.org,2002:int\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t,n,i=e.length,r=0,o=!1;if(!i)return!1;if(\"-\"!==(t=e[r])&&\"+\"!==t||(t=e[++r]),\"0\"===t){if(r+1===i)return!0;if(\"b\"===(t=e[++r])){for(r++;r<i;r++)if(\"_\"!==(t=e[r])){if(\"0\"!==t&&\"1\"!==t)return!1;o=!0}return o&&\"_\"!==t}if(\"x\"===t){for(r++;r<i;r++)if(\"_\"!==(t=e[r])){if(!(48<=(n=e.charCodeAt(r))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&\"_\"!==t}if(\"o\"===t){for(r++;r<i;r++)if(\"_\"!==(t=e[r])){if(!w(e.charCodeAt(r)))return!1;o=!0}return o&&\"_\"!==t}}if(\"_\"===t)return!1;for(;r<i;r++)if(\"_\"!==(t=e[r])){if(!k(e.charCodeAt(r)))return!1;o=!0}return!(!o||\"_\"===t)},construct:function(e){var t,n=e,i=1;if(-1!==n.indexOf(\"_\")&&(n=n.replace(/_/g,\"\")),\"-\"!==(t=n[0])&&\"+\"!==t||(\"-\"===t&&(i=-1),t=(n=n.slice(1))[0]),\"0\"===n)return 0;if(\"0\"===t){if(\"b\"===n[1])return i*parseInt(n.slice(2),2);if(\"x\"===n[1])return i*parseInt(n.slice(2),16);if(\"o\"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)},predicate:function(e){return\"[object Number]\"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?\"0b\"+e.toString(2):\"-0b\"+e.toString(2).slice(1)},octal:function(e){return e>=0?\"0o\"+e.toString(8):\"-0o\"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?\"0x\"+e.toString(16).toUpperCase():\"-0x\"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:\"decimal\",styleAliases:{binary:[2,\"bin\"],octal:[8,\"oct\"],decimal:[10,\"dec\"],hexadecimal:[16,\"hex\"]}}),x=new RegExp(\"^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))$\");var I=/^[-+]?[0-9]+e/;var S=new p(\"tag:yaml.org,2002:float\",{kind:\"scalar\",resolve:function(e){return null!==e&&!(!x.test(e)||\"_\"===e[e.length-1])},construct:function(e){var t,n;return n=\"-\"===(t=e.replace(/_/g,\"\").toLowerCase())[0]?-1:1,\"+-\".indexOf(t[0])>=0&&(t=t.slice(1)),\".inf\"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:\".nan\"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return\"[object Number]\"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var i;if(isNaN(e))switch(t){case\"lowercase\":return\".nan\";case\"uppercase\":return\".NAN\";case\"camelcase\":return\".NaN\"}else if(Number.POSITIVE_INFINITY===e)switch(t){case\"lowercase\":return\".inf\";case\"uppercase\":return\".INF\";case\"camelcase\":return\".Inf\"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case\"lowercase\":return\"-.inf\";case\"uppercase\":return\"-.INF\";case\"camelcase\":return\"-.Inf\"}else if(n.isNegativeZero(e))return\"-0.0\";return i=e.toString(10),I.test(i)?i.replace(\"e\",\".e\"):i},defaultStyle:\"lowercase\"}),O=b.extend({implicit:[A,v,C,S]}),j=O,T=new RegExp(\"^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$\"),N=new RegExp(\"^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\\\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\\\.([0-9]*))?(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$\");var F=new p(\"tag:yaml.org,2002:timestamp\",{kind:\"scalar\",resolve:function(e){return null!==e&&(null!==T.exec(e)||null!==N.exec(e))},construct:function(e){var t,n,i,r,o,a,l,c,s=0,u=null;if(null===(t=T.exec(e))&&(t=N.exec(e)),null===t)throw new Error(\"Date resolve error\");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],a=+t[5],l=+t[6],t[7]){for(s=t[7].slice(0,3);s.length<3;)s+=\"0\";s=+s}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),\"-\"===t[9]&&(u=-u)),c=new Date(Date.UTC(n,i,r,o,a,l,s)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var E=new p(\"tag:yaml.org,2002:merge\",{kind:\"scalar\",resolve:function(e){return\"<<\"===e||null===e}}),M=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r\";var L=new p(\"tag:yaml.org,2002:binary\",{kind:\"scalar\",resolve:function(e){if(null===e)return!1;var t,n,i=0,r=e.length,o=M;for(n=0;n<r;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;i+=6}return i%8==0},construct:function(e){var t,n,i=e.replace(/[\\r\\n=]/g,\"\"),r=i.length,o=M,a=0,l=[];for(t=0;t<r;t++)t%4==0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|o.indexOf(i.charAt(t));return 0===(n=r%4*6)?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===n?(l.push(a>>10&255),l.push(a>>2&255)):12===n&&l.push(a>>4&255),new Uint8Array(l)},predicate:function(e){return\"[object Uint8Array]\"===Object.prototype.toString.call(e)},represent:function(e){var t,n,i=\"\",r=0,o=e.length,a=M;for(t=0;t<o;t++)t%3==0&&t&&(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]),r=(r<<8)+e[t];return 0===(n=o%3)?(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]):2===n?(i+=a[r>>10&63],i+=a[r>>4&63],i+=a[r<<2&63],i+=a[64]):1===n&&(i+=a[r>>2&63],i+=a[r<<4&63],i+=a[64],i+=a[64]),i}}),_=Object.prototype.hasOwnProperty,D=Object.prototype.toString;var U=new p(\"tag:yaml.org,2002:omap\",{kind:\"sequence\",resolve:function(e){if(null===e)return!0;var t,n,i,r,o,a=[],l=e;for(t=0,n=l.length;t<n;t+=1){if(i=l[t],o=!1,\"[object Object]\"!==D.call(i))return!1;for(r in i)if(_.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==a.indexOf(r))return!1;a.push(r)}return!0},construct:function(e){return null!==e?e:[]}}),q=Object.prototype.toString;var Y=new p(\"tag:yaml.org,2002:pairs\",{kind:\"sequence\",resolve:function(e){if(null===e)return!0;var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],\"[object Object]\"!==q.call(i))return!1;if(1!==(r=Object.keys(i)).length)return!1;o[t]=[r[0],i[r[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}}),R=Object.prototype.hasOwnProperty;var B=new p(\"tag:yaml.org,2002:set\",{kind:\"mapping\",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(R.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),K=j.extend({implicit:[F,E],explicit:[L,U,Y,B]}),P=Object.prototype.hasOwnProperty,W=/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/,H=/[\\x85\\u2028\\u2029]/,$=/[,\\[\\]\\{\\}]/,G=/^(?:!|!!|![a-z\\-]+!)$/i,V=/^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;function Z(e){return Object.prototype.toString.call(e)}function J(e){return 10===e||13===e}function Q(e){return 9===e||32===e}function z(e){return 9===e||32===e||10===e||13===e}function X(e){return 44===e||91===e||93===e||123===e||125===e}function ee(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function te(e){return 48===e?\"\\0\":97===e?\"\":98===e?\"\\b\":116===e||9===e?\"\\t\":110===e?\"\\n\":118===e?\"\\v\":102===e?\"\\f\":114===e?\"\\r\":101===e?\"\":32===e?\" \":34===e?'\"':47===e?\"/\":92===e?\"\\\\\":78===e?\"Â…\":95===e?\"Â \":76===e?\"\\u2028\":80===e?\"\\u2029\":\"\"}function ne(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var ie=new Array(256),re=new Array(256),oe=0;oe<256;oe++)ie[oe]=te(oe)?1:0,re[oe]=te(oe);function ae(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||K,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function le(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=c(n),new o(t,n)}function ce(e,t){throw le(e,t)}function se(e,t){e.onWarning&&e.onWarning.call(null,le(e,t))}var ue={YAML:function(e,t,n){var i,r,o;null!==e.version&&ce(e,\"duplication of %YAML directive\"),1!==n.length&&ce(e,\"YAML directive accepts exactly one argument\"),null===(i=/^([0-9]+)\\.([0-9]+)$/.exec(n[0]))&&ce(e,\"ill-formed argument of the YAML directive\"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&ce(e,\"unacceptable YAML version of the document\"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&se(e,\"unsupported YAML version of the document\")},TAG:function(e,t,n){var i,r;2!==n.length&&ce(e,\"TAG directive accepts exactly two arguments\"),i=n[0],r=n[1],G.test(i)||ce(e,\"ill-formed tag handle (first argument) of the TAG directive\"),P.call(e.tagMap,i)&&ce(e,'there is a previously declared suffix for \"'+i+'\" tag handle'),V.test(r)||ce(e,\"ill-formed tag prefix (second argument) of the TAG directive\");try{r=decodeURIComponent(r)}catch(t){ce(e,\"tag prefix is malformed: \"+r)}e.tagMap[i]=r}};function pe(e,t,n,i){var r,o,a,l;if(t<n){if(l=e.input.slice(t,n),i)for(r=0,o=l.length;r<o;r+=1)9===(a=l.charCodeAt(r))||32<=a&&a<=1114111||ce(e,\"expected valid JSON character\");else W.test(l)&&ce(e,\"the stream contains non-printable characters\");e.result+=l}}function fe(e,t,i,r){var o,a,l,c;for(n.isObject(i)||ce(e,\"cannot merge mappings; the provided source object is unacceptable\"),l=0,c=(o=Object.keys(i)).length;l<c;l+=1)a=o[l],P.call(t,a)||(t[a]=i[a],r[a]=!0)}function de(e,t,n,i,r,o,a,l,c){var s,u;if(Array.isArray(r))for(s=0,u=(r=Array.prototype.slice.call(r)).length;s<u;s+=1)Array.isArray(r[s])&&ce(e,\"nested arrays are not supported inside keys\"),\"object\"==typeof r&&\"[object Object]\"===Z(r[s])&&(r[s]=\"[object Object]\");if(\"object\"==typeof r&&\"[object Object]\"===Z(r)&&(r=\"[object Object]\"),r=String(r),null===t&&(t={}),\"tag:yaml.org,2002:merge\"===i)if(Array.isArray(o))for(s=0,u=o.length;s<u;s+=1)fe(e,t,o[s],n);else fe(e,t,o,n);else e.json||P.call(n,r)||!P.call(t,r)||(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,ce(e,\"duplicated mapping key\")),\"__proto__\"===r?Object.defineP");
        builder.append("roperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function he(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):ce(e,\"a line break is expected\"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ge(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);0!==r;){for(;Q(r);)9===r&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&35===r)do{r=e.input.charCodeAt(++e.position)}while(10!==r&&13!==r&&0!==r);if(!J(r))break;for(he(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position)}return-1!==n&&0!==i&&e.lineIndent<n&&se(e,\"deficient indentation\"),i}function me(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!z(t)))}function ye(e,t){1===t?e.result+=\" \":t>1&&(e.result+=n.repeat(\"\\n\",t-1))}function be(e,t){var n,i,r=e.tag,o=e.anchor,a=[],l=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),i=e.input.charCodeAt(e.position);0!==i&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,ce(e,\"tab characters must not be used in indentation\")),45===i)&&z(e.input.charCodeAt(e.position+1));)if(l=!0,e.position++,ge(e,!0,-1)&&e.lineIndent<=t)a.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,we(e,t,3,!1,!0),a.push(e.result),ge(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)ce(e,\"bad indentation of a sequence entry\");else if(e.lineIndent<t)break;return!!l&&(e.tag=r,e.anchor=o,e.kind=\"sequence\",e.result=a,!0)}function Ae(e){var t,n,i,r,o=!1,a=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&ce(e,\"duplication of a tag property\"),60===(r=e.input.charCodeAt(++e.position))?(o=!0,r=e.input.charCodeAt(++e.position)):33===r?(a=!0,n=\"!!\",r=e.input.charCodeAt(++e.position)):n=\"!\",t=e.position,o){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&62!==r);e.position<e.length?(i=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):ce(e,\"unexpected end of the stream within a verbatim tag\")}else{for(;0!==r&&!z(r);)33===r&&(a?ce(e,\"tag suffix cannot contain exclamation marks\"):(n=e.input.slice(t-1,e.position+1),G.test(n)||ce(e,\"named tag handle cannot contain such characters\"),a=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),$.test(i)&&ce(e,\"tag suffix cannot contain flow indicator characters\")}i&&!V.test(i)&&ce(e,\"tag name cannot contain such characters: \"+i);try{i=decodeURIComponent(i)}catch(t){ce(e,\"tag name is malformed: \"+i)}return o?e.tag=i:P.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:\"!\"===n?e.tag=\"!\"+i:\"!!\"===n?e.tag=\"tag:yaml.org,2002:\"+i:ce(e,'undeclared tag handle \"'+n+'\"'),!0}function ve(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&ce(e,\"duplication of an anchor property\"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!z(n)&&!X(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ce(e,\"name of an anchor node must contain at least one character\"),e.anchor=e.input.slice(t,e.position),!0}function we(e,t,i,r,o){var a,l,c,s,u,p,f,d,h,g=1,m=!1,y=!1;if(null!==e.listener&&e.listener(\"open\",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=l=c=4===i||3===i,r&&ge(e,!0,-1)&&(m=!0,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)),1===g)for(;Ae(e)||ve(e);)ge(e,!0,-1)?(m=!0,c=a,e.lineIndent>t?g=1:e.lineIndent===t?g=0:e.lineIndent<t&&(g=-1)):c=!1;if(c&&(c=m||o),1!==g&&4!==i||(d=1===i||2===i?t:t+1,h=e.position-e.lineStart,1===g?c&&(be(e,h)||function(e,t,n){var i,r,o,a,l,c,s,u=e.tag,p=e.anchor,f={},d=Object.create(null),h=null,g=null,m=null,y=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),s=e.input.charCodeAt(e.position);0!==s;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,ce(e,\"tab characters must not be used in indentation\")),i=e.input.charCodeAt(e.position+1),o=e.line,63!==s&&58!==s||!z(i)){if(a=e.line,l=e.lineStart,c=e.position,!we(e,n,2,!1,!0))break;if(e.line===o){for(s=e.input.charCodeAt(e.position);Q(s);)s=e.input.charCodeAt(++e.position);if(58===s)z(s=e.input.charCodeAt(++e.position))||ce(e,\"a whitespace character is expected after the key-value separator within a block mapping\"),y&&(de(e,f,d,h,g,null,a,l,c),h=g=m=null),b=!0,y=!1,r=!1,h=e.tag,g=e.result;else{if(!b)return e.tag=u,e.anchor=p,!0;ce(e,\"can not read an implicit mapping pair; a colon is missed\")}}else{if(!b)return e.tag=u,e.anchor=p,!0;ce(e,\"can not read a block mapping entry; a multiline key may not be an implicit key\")}}else 63===s?(y&&(de(e,f,d,h,g,null,a,l,c),h=g=m=null),b=!0,y=!0,r=!0):y?(y=!1,r=!0):ce(e,\"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line\"),e.position+=1,s=i;if((e.line===o||e.lineIndent>t)&&(y&&(a=e.line,l=e.lineStart,c=e.position),we(e,t,4,!0,r)&&(y?g=e.result:m=e.result),y||(de(e,f,d,h,g,m,a,l,c),h=g=m=null),ge(e,!0,-1),s=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&0!==s)ce(e,\"bad indentation of a mapping entry\");else if(e.lineIndent<t)break}return y&&de(e,f,d,h,g,null,a,l,c),b&&(e.tag=u,e.anchor=p,e.kind=\"mapping\",e.result=f),b}(e,h,d))||function(e,t){var n,i,r,o,a,l,c,s,u,p,f,d,h=!0,g=e.tag,m=e.anchor,y=Object.create(null);if(91===(d=e.input.charCodeAt(e.position)))a=93,s=!1,o=[];else{if(123!==d)return!1;a=125,s=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),d=e.input.charCodeAt(++e.position);0!==d;){if(ge(e,!0,t),(d=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=g,e.anchor=m,e.kind=s?\"mapping\":\"sequence\",e.result=o,!0;h?44===d&&ce(e,\"expected the node content, but found ','\"):ce(e,\"missed comma between flow collection entries\"),f=null,l=c=!1,63===d&&z(e.input.charCodeAt(e.position+1))&&(l=c=!0,e.position++,ge(e,!0,t)),n=e.line,i=e.lineStart,r=e.position,we(e,t,1,!1,!0),p=e.tag,u=e.result,ge(e,!0,t),d=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==d||(l=!0,d=e.input.charCodeAt(++e.position),ge(e,!0,t),we(e,t,1,!1,!0),f=e.result),s?de(e,o,y,p,u,f,n,i,r):l?o.push(de(e,null,y,p,u,f,n,i,r)):o.push(u),ge(e,!0,t),44===(d=e.input.charCodeAt(e.position))?(h=!0,d=e.input.charCodeAt(++e.position)):h=!1}ce(e,\"unexpected end of the stream within a flow collection\")}(e,d)?y=!0:(l&&function(e,t){var i,r,o,a,l,c=1,s=!1,u=!1,p=t,f=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))r=!1;else{if(62!==a)return!1;r=!0}for(e.kind=\"scalar\",e.result=\"\";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===c?c=43===a?3:2:ce(e,\"repeat of a chomping mode identifier\");else{if(!((o=48<=(l=a)&&l<=57?l-48:-1)>=0))break;0===o?ce(e,\"bad explicit indentation width of a block scalar; it cannot be less than one\"):u?ce(e,\"repeat of an indentation width identifier\"):(p=t+o-1,u=!0)}if(Q(a)){do{a=e.input.charCodeAt(++e.position)}while(Q(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!J(a)&&0!==a)}for(;0!==a;){for(he(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!u||e.lineIndent<p)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>p&&(p=e.lineIndent),J(a))f++;else{if(e.lineIndent<p){3===c?e.result+=n.repeat(\"\\n\",s?1+f:f):1===c&&s&&(e.result+=\"\\n\");break}for(r?Q(a)?(d=!0,e.result+=n.repeat(\"\\n\",s?1+f:f)):d?(d=!1,e.result+=n.repeat(\"\\n\",f+1)):0===f?s&&(e.result+=\" \"):e.result+=n.repeat(\"\\n\",f):e.result+=n.repeat(\"\\n\",s?1+f:f),s=!0,u=!0,f=0,i=e.position;!J(a)&&0!==a;)a=e.input.charCodeAt(++e.position);pe(e,i,e.position,!1)}}return!0}(e,d)||function(e,t){var n,i,r;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind=\"scalar\",e.result=\"\",e.position++,i=r=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(pe(e,i,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;i=e.position,e.position++,r=e.position}else J(n)?(pe(e,i,r,!0),ye(e,ge(e,!1,t)),i=r=e.position):e.position===e.lineStart&&me(e)?ce(e,\"unexpected end of the document within a single quoted scalar\"):(e.position++,r=e.position);ce(e,\"unexpected end of the stream within a single quoted scalar\")}(e,d)||function(e,t){var n,i,r,o,a,l,c;if(34!==(l=e.input.charCodeAt(e.position)))return!1;for(e.kind=\"scalar\",e.result=\"\",e.position++,n=i=e.position;0!==(l=e.input.charCodeAt(e.position));){if(34===l)return pe(e,n,e.position,!0),e.position++,!0;if(92===l){if(pe(e,n,e.position,!0),J(l=e.input.charCodeAt(++e.position)))ge(e,!1,t);else if(l<256&&ie[l])e.result+=re[l],e.position++;else if((a=120===(c=l)?2:117===c?4:85===c?8:0)>0){for(r=a,o=0;r>0;r--)(a=ee(l=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+a:ce(e,\"expected hexadecimal character\");e.result+=ne(o),e.position++}else ce(e,\"unknown escape sequence\");n=i=e.position}else J(l)?(pe(e,n,i,!0),ye(e,ge(e,!1,t)),n=i=e.position):e.position===e.lineStart&&me(e)?ce(e,\"unexpected end of the document within a double quoted scalar\"):(e.position++,i=e.position)}ce(e,\"unexpected end of the stream within a double quoted scalar\")}(e,d)?y=!0:!function(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!z(i)&&!X(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&ce(e,\"name of an alias node must contain at least one character\"),n=e.input.slice(t,e.position),P.call(e.anchorMap,n)||ce(e,'unidentified alias \"'+n+'\"'),e.result=e.anchorMap[n],ge(e,!0,-1),!0}(e)?function(e,t,n){var i,r,o,a,l,c,s,u,p=e.kind,f=e.result;if(z(u=e.input.charCodeAt(e.position))||X(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(z(i=e.input.charCodeAt(e.position+1))||n&&X(i)))return!1;for(e.kind=\"scalar\",e.result=\"\",r=o=e.position,a=!1;0!==u;){if(58===u){if(z(i=e.input.charCodeAt(e.position+1))||n&&X(i))break}else if(35===u){if(z(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&me(e)||n&&X(u))break;if(J(u)){if(l=e.line,c=e.lineStart,s=e.lineIndent,ge(e,!1,-1),e.lineIndent>=t){a=!0,u=e.input.charCodeAt(e.position);continue}e.position=o,e.line=l,e.lineStart=c,e.lineIndent=s;break}}a&&(pe(e,r,o,!1),ye(e,e.line-l),r=o=e.position,a=!1),Q(u)||(o=e.position+1),u=e.input.charCodeAt(++e.position)}return pe(e,r,o,!1),!!e.result||(e.kind=p,e.result=f,!1)}(e,d,1===i)&&(y=!0,null===e.tag&&(e.tag=\"?\")):(y=!0,null===e.tag&&null===e.anchor||ce(e,\"alias node should not have any properties\")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===g&&(y=c&&be(e,h))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if(\"?\"===e.tag){for(null!==e.result&&\"scalar\"!==e.kind&&ce(e,'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"'+e.kind+'\"'),s=0,u=e.implicitTypes.length;s<u;s+=1)if((f=e.implicitTypes[s]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if(\"!\"!==e.tag){if(P.call(e.typeMap[e.kind||\"fallback\"],e.tag))f=e.typeMap[e.kind||\"fallback\"][e.tag];else for(f=null,s=0,u=(p=e.typeMap.multi[e.kind||\"fallback\"]).length;s<u;s+=1)if(e.tag.slice(0,p[s].tag.length)===p[s].tag){f=p[s];break}f||ce(e,\"unknown tag !<\"+e.tag+\">\"),null!==e.result&&f.kind!==e.kind&&ce(e,\"unacceptable node kind for !<\"+e.tag+'> tag; it should be \"'+f.kind+'\", not \"'+e.kind+'\"'),f.resolve(e.result,e.tag)?(e.result=f.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):ce(e,\"cannot resolve a node with !<\"+e.tag+\"> explicit tag\")}return null!==e.listener&&e.listener(\"close\",e),null!==e.tag||null!==e.anchor||y}function ke(e){var t,n,i,r,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(r=e.input.charCodeAt(e.position))&&(ge(e,!0,-1),r=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==r));){for(a=!0,r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!z(r);)r=e.input.charCodeAt(++e.position);for(i=[],(n=e.input.slice(t,e.position)).length<1&&ce(e,\"directive name must not be less than one character in length\");0!==r;){for(;Q(r);)r=e.input.charCodeAt(++e.position);if(35===r){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&!J(r));break}if(J(r))break;for(t=e.position;0!==r&&!z(r);)r=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}0!==r&&he(e),P.call(ue,n)?ue[n](e,n,i):se(e,'unknown document directive \"'+n+'\"')}ge(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,ge(e,!0,-1)):a&&ce(e,\"directives end mark is expected\"),we(e,e.lineIndent-1,4,!1,!0),ge(e,!0,-1),e.checkLineBreaks&&H.test(e.input.slice(o,e.position))&&se(e,\"non-ASCII line breaks are interpreted as content\"),e.documents.push(e.result),e.position===e.lineStart&&me(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,ge(e,!0,-1)):e.position<e.length-1&&ce(e,\"end of the stream or a document separator is expected\")}function Ce(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+=\"\\n\"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new ae(e,t),i=e.indexOf(\"\\0\");for(-1!==i&&(n.position=i,ce(n,\"null byte is not allowed in input\")),n.input+=\"\\0\";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ke(n);return n.documents}var xe={loadAll:function(e,t,n){null!==t&&\"object\"==typeof t&&void 0===n&&(n=t,t=null);var i=Ce(e,n);if(\"function\"!=typeof t)return i;for(var r=0,o=i.length;r<o;r+=1)t(i[r])},load:function(e,t){var n=Ce(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new o(\"expected a single document in the stream, but found more\")}}},Ie=Object.prototype.toString,Se=Object.prototype.hasOwnProperty,Oe=65279,je={0:\"\\\\0\",7:\"\\\\a\",8:\"\\\\b\",9:\"\\\\t\",10:\"\\\\n\",11:\"\\\\v\",12:\"\\\\f\",13:\"\\\\r\",27:\"\\\\e\",34:'\\\\\"',92:\"\\\\\\\\\",133:\"\\\\N\",160:\"\\\\_\",8232:\"\\\\L\",8233:\"\\\\P\"},Te=[\"y\",\"Y\",\"yes\",\"Yes\",\"YES\",\"on\",\"On\",\"ON\",\"n\",\"N\",\"no\",\"No\",\"NO\",\"off\",\"Off\",\"OFF\"],Ne=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;function Fe(e){var t,i,r;if(t=e.toString(16).toUpperCase(),e<=255)i=\"x\",r=2;else if(e<=65535)i=\"u\",r=4;else{if(!(e<=4294967295))throw new o(\"code point within a string may not be greater than 0xFFFFFFFF\");i=\"U\",r=8}return\"\\\\\"+i+n.repeat(\"0\",r-t.length)+t}function Ee(e){this.schema=e.schema||K,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,i,r,o,a,l,c;if(null===t)return{};for(n={},r=0,o=(i=Object.keys(t)).length;r<o;r+=1)a=i[r],l=String(t[a]),\"!!\"===a.slice(0,2)&&(a=\"tag:yaml.org,2002:\"+a.slice(2)),(c=e.compiledTypeMap.fallback[a])&&Se.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[a]=l;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='\"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer=\"function\"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result=\"\",this.duplicates=[],this.usedDuplicates=null}function Me(e,t){for(var i,r=n.repeat(\" \",t),o=0,a=-1,l=\"\",c=e.length;o<c;)-1===(a=e.indexOf(\"\\n\",o))?(i=e.slice(o),o=c):(i=e.slice(o,a+1),o=a+1),i.length&&\"\\n\"!==i&&(l+=r),l+=i;return l}function Le(e,t){return\"\\n\"+n.repeat(\" \",e.indent*t)}function _e(e){return 32===e||9===e}function De(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Oe||65536<=e&&e<=1114111}function Ue(e){return De(e)&&e!==Oe&&13!==e&&10!==e}function qe(e,t,n){var i=Ue(e),r=i&&!_e(e);return(n?i:i&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!r)||Ue(t)&&!_e(t)&&35===e||58===t&&r}function Ye(e,t){var n,i=e.charCodeAt(t);return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}function Re(e){return/^\\n* /.test(e)}function Be(e,t,n,i,r,o,a,l){var c,s,u=0,p=null,f=!1,d=!1,h=-1!==i,g=-1,m=De(s=Ye(e,0))&&s!==Oe&&!_e(s)&&45!==s&&63!==s&&58!==s&&44!==s&&91!==s&&93!==s&&123!==s&&125!==s&&35!==s&&38!==s&&42!==s&&33!==s&&124!=");
        builder.append("=s&&61!==s&&62!==s&&39!==s&&34!==s&&37!==s&&64!==s&&96!==s&&function(e){return!_e(e)&&58!==e}(Ye(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(!De(u=Ye(e,c)))return 5;m=m&&qe(u,p,l),p=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(10===(u=Ye(e,c)))f=!0,h&&(d=d||c-g-1>i&&\" \"!==e[g+1],g=c);else if(!De(u))return 5;m=m&&qe(u,p,l),p=u}d=d||h&&c-g-1>i&&\" \"!==e[g+1]}return f||d?n>9&&Re(e)?5:a?2===o?5:2:d?4:3:!m||a||r(e)?2===o?5:2:1}function Ke(e,t,n,i,r){e.dump=function(){if(0===t.length)return 2===e.quotingType?'\"\"':\"''\";if(!e.noCompatMode&&(-1!==Te.indexOf(t)||Ne.test(t)))return 2===e.quotingType?'\"'+t+'\"':\"'\"+t+\"'\";var a=e.indent*Math.max(1,n),l=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),c=i||e.flowLevel>-1&&n>=e.flowLevel;switch(Be(t,c,e.indent,l,(function(t){return function(e,t){var n,i;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!i,r)){case 1:return t;case 2:return\"'\"+t.replace(/'/g,\"''\")+\"'\";case 3:return\"|\"+Pe(t,e.indent)+We(Me(t,a));case 4:return\">\"+Pe(t,e.indent)+We(Me(function(e,t){var n,i,r=/(\\n+)([^\\n]*)/g,o=(l=e.indexOf(\"\\n\"),l=-1!==l?l:e.length,r.lastIndex=l,He(e.slice(0,l),t)),a=\"\\n\"===e[0]||\" \"===e[0];var l;for(;i=r.exec(e);){var c=i[1],s=i[2];n=\" \"===s[0],o+=c+(a||n||\"\"===s?\"\":\"\\n\")+He(s,t),a=n}return o}(t,l),a));case 5:return'\"'+function(e){for(var t,n=\"\",i=0,r=0;r<e.length;i>=65536?r+=2:r++)i=Ye(e,r),!(t=je[i])&&De(i)?(n+=e[r],i>=65536&&(n+=e[r+1])):n+=t||Fe(i);return n}(t)+'\"';default:throw new o(\"impossible error: invalid scalar style\")}}()}function Pe(e,t){var n=Re(e)?String(t):\"\",i=\"\\n\"===e[e.length-1];return n+(i&&(\"\\n\"===e[e.length-2]||\"\\n\"===e)?\"+\":i?\"\":\"-\")+\"\\n\"}function We(e){return\"\\n\"===e[e.length-1]?e.slice(0,-1):e}function He(e,t){if(\"\"===e||\" \"===e[0])return e;for(var n,i,r=/ [^ ]/g,o=0,a=0,l=0,c=\"\";n=r.exec(e);)(l=n.index)-o>t&&(i=a>o?a:l,c+=\"\\n\"+e.slice(o,i),o=i+1),a=l;return c+=\"\\n\",e.length-o>t&&a>o?c+=e.slice(o,a)+\"\\n\"+e.slice(a+1):c+=e.slice(o),c.slice(1)}function $e(e,t,n,i){var r,o,a,l=\"\",c=e.tag;for(r=0,o=n.length;r<o;r+=1)a=n[r],e.replacer&&(a=e.replacer.call(n,String(r),a)),(Ve(e,t+1,a,!0,!0,!1,!0)||void 0===a&&Ve(e,t+1,null,!0,!0,!1,!0))&&(i&&\"\"===l||(l+=Le(e,t)),e.dump&&10===e.dump.charCodeAt(0)?l+=\"-\":l+=\"- \",l+=e.dump);e.tag=c,e.dump=l||\"[]\"}function Ge(e,t,n){var i,r,a,l,c,s;for(a=0,l=(r=n?e.explicitTypes:e.implicitTypes).length;a<l;a+=1)if(((c=r[a]).instanceOf||c.predicate)&&(!c.instanceOf||\"object\"==typeof t&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(n?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag=\"?\",c.represent){if(s=e.styleMap[c.tag]||c.defaultStyle,\"[object Function]\"===Ie.call(c.represent))i=c.represent(t,s);else{if(!Se.call(c.represent,s))throw new o(\"!<\"+c.tag+'> tag resolver accepts not \"'+s+'\" style');i=c.represent[s](t,s)}e.dump=i}return!0}return!1}function Ve(e,t,n,i,r,a,l){e.tag=null,e.dump=n,Ge(e,n,!1)||Ge(e,n,!0);var c,s=Ie.call(e.dump),u=i;i&&(i=e.flowLevel<0||e.flowLevel>t);var p,f,d=\"[object Object]\"===s||\"[object Array]\"===s;if(d&&(f=-1!==(p=e.duplicates.indexOf(n))),(null!==e.tag&&\"?\"!==e.tag||f||2!==e.indent&&t>0)&&(r=!1),f&&e.usedDuplicates[p])e.dump=\"*ref_\"+p;else{if(d&&f&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),\"[object Object]\"===s)i&&0!==Object.keys(e.dump).length?(!function(e,t,n,i){var r,a,l,c,s,u,p=\"\",f=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if(\"function\"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new o(\"sortKeys must be a boolean or a function\");for(r=0,a=d.length;r<a;r+=1)u=\"\",i&&\"\"===p||(u+=Le(e,t)),c=n[l=d[r]],e.replacer&&(c=e.replacer.call(n,l,c)),Ve(e,t+1,l,!0,!0,!0)&&((s=null!==e.tag&&\"?\"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=\"?\":u+=\"? \"),u+=e.dump,s&&(u+=Le(e,t)),Ve(e,t+1,c,!0,s)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=\":\":u+=\": \",p+=u+=e.dump));e.tag=f,e.dump=p||\"{}\"}(e,t,e.dump,r),f&&(e.dump=\"&ref_\"+p+e.dump)):(!function(e,t,n){var i,r,o,a,l,c=\"\",s=e.tag,u=Object.keys(n);for(i=0,r=u.length;i<r;i+=1)l=\"\",\"\"!==c&&(l+=\", \"),e.condenseFlow&&(l+='\"'),a=n[o=u[i]],e.replacer&&(a=e.replacer.call(n,o,a)),Ve(e,t,o,!1,!1)&&(e.dump.length>1024&&(l+=\"? \"),l+=e.dump+(e.condenseFlow?'\"':\"\")+\":\"+(e.condenseFlow?\"\":\" \"),Ve(e,t,a,!1,!1)&&(c+=l+=e.dump));e.tag=s,e.dump=\"{\"+c+\"}\"}(e,t,e.dump),f&&(e.dump=\"&ref_\"+p+\" \"+e.dump));else if(\"[object Array]\"===s)i&&0!==e.dump.length?(e.noArrayIndent&&!l&&t>0?$e(e,t-1,e.dump,r):$e(e,t,e.dump,r),f&&(e.dump=\"&ref_\"+p+e.dump)):(!function(e,t,n){var i,r,o,a=\"\",l=e.tag;for(i=0,r=n.length;i<r;i+=1)o=n[i],e.replacer&&(o=e.replacer.call(n,String(i),o)),(Ve(e,t,o,!1,!1)||void 0===o&&Ve(e,t,null,!1,!1))&&(\"\"!==a&&(a+=\",\"+(e.condenseFlow?\"\":\" \")),a+=e.dump);e.tag=l,e.dump=\"[\"+a+\"]\"}(e,t,e.dump),f&&(e.dump=\"&ref_\"+p+\" \"+e.dump));else{if(\"[object String]\"!==s){if(\"[object Undefined]\"===s)return!1;if(e.skipInvalid)return!1;throw new o(\"unacceptable kind of an object to dump \"+s)}\"?\"!==e.tag&&Ke(e,e.dump,t,a,u)}null!==e.tag&&\"?\"!==e.tag&&(c=encodeURI(\"!\"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,\"%21\"),c=\"!\"===e.tag[0]?\"!\"+c:\"tag:yaml.org,2002:\"===c.slice(0,18)?\"!!\"+c.slice(18):\"!<\"+c+\">\",e.dump=c+\" \"+e.dump)}return!0}function Ze(e,t){var n,i,r=[],o=[];for(Je(e,r,o),n=0,i=o.length;n<i;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(i)}function Je(e,t,n){var i,r,o;if(null!==e&&\"object\"==typeof e)if(-1!==(r=t.indexOf(e)))-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)Je(e[r],t,n);else for(r=0,o=(i=Object.keys(e)).length;r<o;r+=1)Je(e[i[r]],t,n)}function Qe(e,t){return function(){throw new Error(\"Function yaml.\"+e+\" is removed in js-yaml 4. Use yaml.\"+t+\" instead, which is now safe by default.\")}}var ze=p,Xe=h,et=b,tt=O,nt=j,it=K,rt=xe.load,ot=xe.loadAll,at={dump:function(e,t){var n=new Ee(t=t||{});n.noRefs||Ze(e,n);var i=e;return n.replacer&&(i=n.replacer.call({\"\":i},\"\",i)),Ve(n,0,i,!0,!0)?n.dump+\"\\n\":\"\"}}.dump,lt=o,ct={binary:L,float:S,map:y,null:A,pairs:Y,set:B,timestamp:F,bool:v,int:C,merge:E,omap:U,seq:m,str:g},st=Qe(\"safeLoad\",\"load\"),ut=Qe(\"safeLoadAll\",\"loadAll\"),pt=Qe(\"safeDump\",\"dump\"),ft={Type:ze,Schema:Xe,FAILSAFE_SCHEMA:et,JSON_SCHEMA:tt,CORE_SCHEMA:nt,DEFAULT_SCHEMA:it,load:rt,loadAll:ot,dump:at,YAMLException:lt,types:ct,safeLoad:st,safeLoadAll:ut,safeDump:pt};e.CORE_SCHEMA=nt,e.DEFAULT_SCHEMA=it,e.FAILSAFE_SCHEMA=et,e.JSON_SCHEMA=tt,e.Schema=Xe,e.Type=ze,e.YAMLException=lt,e.default=ft,e.dump=at,e.load=rt,e.loadAll=ot,e.safeDump=pt,e.safeLoad=st,e.safeLoadAll=ut,e.types=ct,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n");
        return builder.toString();
      }
      public String getName() {
        return "jsYaml";
      }
    }
    ;
  }
  private static class jsYamlInitializer {
    static {
      _instance0.jsYamlInitializer();
    }
    static com.google.gwt.resources.client.TextResource get() {
      return jsYaml;
    }
  }
  public com.google.gwt.resources.client.TextResource jsYaml() {
    return jsYamlInitializer.get();
  }
  private void jsonataInitializer() {
    jsonata = new com.google.gwt.resources.client.TextResource() {
      // file:/home/wsiqueir/projects/kogito-tooling/packages/dashbuilder/dashbuilder-runtime-parent/dashbuilder-runtime-client/src/main/webapp/WEB-INF/classes/org/dashbuilder/client/resources/js/jsonata.min.js
      public String getText() {
        StringBuilder builder = new StringBuilder();
        builder.append("!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).jsonata=e()}}(function(){return function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error(\"Cannot find module '\"+o+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var a=\"function\"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}}()({1:[function(e,t,r){const n=function(){\"use strict\";const e=[\"Zero\",\"One\",\"Two\",\"Three\",\"Four\",\"Five\",\"Six\",\"Seven\",\"Eight\",\"Nine\",\"Ten\",\"Eleven\",\"Twelve\",\"Thirteen\",\"Fourteen\",\"Fifteen\",\"Sixteen\",\"Seventeen\",\"Eighteen\",\"Nineteen\"],t=[\"Zeroth\",\"First\",\"Second\",\"Third\",\"Fourth\",\"Fifth\",\"Sixth\",\"Seventh\",\"Eighth\",\"Ninth\",\"Tenth\",\"Eleventh\",\"Twelfth\",\"Thirteenth\",\"Fourteenth\",\"Fifteenth\",\"Sixteenth\",\"Seventeenth\",\"Eighteenth\",\"Nineteenth\"],r=[\"Twenty\",\"Thirty\",\"Forty\",\"Fifty\",\"Sixty\",\"Seventy\",\"Eighty\",\"Ninety\",\"Hundred\"],n=[\"Thousand\",\"Million\",\"Billion\",\"Trillion\"];const i={};e.forEach(function(e,t){i[e.toLowerCase()]=t}),t.forEach(function(e,t){i[e.toLowerCase()]=t}),r.forEach(function(e,t){const r=e.toLowerCase();i[r]=10*(t+2),i[r.substring(0,e.length-1)+\"ieth\"]=i[r]}),i.hundredth=100,n.forEach(function(e,t){const r=e.toLowerCase(),n=Math.pow(10,3*(t+1));i[r]=n,i[r+\"th\"]=n});const a=[[1e3,\"m\"],[900,\"cm\"],[500,\"d\"],[400,\"cd\"],[100,\"c\"],[90,\"xc\"],[50,\"l\"],[40,\"xl\"],[10,\"x\"],[9,\"ix\"],[5,\"v\"],[4,\"iv\"],[1,\"i\"]],o={M:1e3,D:500,C:100,L:50,X:10,V:5,I:1};function s(e,t){if(void 0===e)return;return l(e=Math.floor(e),f(t))}const u={DECIMAL:\"decimal\",LETTERS:\"letters\",ROMAN:\"roman\",WORDS:\"words\",SEQUENCE:\"sequence\"},c={UPPER:\"upper\",LOWER:\"lower\",TITLE:\"title\"};function l(i,o){let s;const l=i<0;switch(i=Math.abs(i),o.primary){case u.LETTERS:s=function(e,t){for(var r=[],n=t.charCodeAt(0);e>0;)r.unshift(String.fromCharCode((e-1)%26+n)),e=Math.floor((e-1)/26);return r.join(\"\")}(i,o.case===c.UPPER?\"A\":\"a\");break;case u.ROMAN:s=function e(t){for(var r=0;r<a.length;r++){const n=a[r];if(t>=n[0])return n[1]+e(t-n[0])}return\"\"}(i),o.case===c.UPPER&&(s=s.toUpperCase());break;case u.WORDS:s=function(i,a){var o=function(i,a,s){var u=\"\";if(i<=19)u=(a?\" and \":\"\")+(s?t[i]:e[i]);else if(i<100){const e=Math.floor(i/10),t=i%10;u=(a?\" and \":\"\")+r[e-2],t>0?u+=\"-\"+o(t,!1,s):s&&(u=u.substring(0,u.length-1)+\"ieth\")}else if(i<1e3){const t=Math.floor(i/100),r=i%100;u=(a?\", \":\"\")+e[t]+\" Hundred\",r>0?u+=o(r,!0,s):s&&(u+=\"th\")}else{var c=Math.floor(Math.log10(i)/3);c>n.length&&(c=n.length);const e=Math.pow(10,3*c),t=Math.floor(i/e),r=i-t*e;u=(a?\", \":\"\")+o(t,!1,!1)+\" \"+n[c-1],r>0?u+=o(r,!0,s):s&&(u+=\"th\")}return u};return o(i,!1,a)}(i,o.ordinal),o.case===c.UPPER?s=s.toUpperCase():o.case===c.LOWER&&(s=s.toLowerCase());break;case u.DECIMAL:s=\"\"+i;var p=o.mandatoryDigits-s.length;if(p>0){var f=new Array(p+1).join(\"0\");s=f+s}if(48!==o.zeroCode&&(s=Array.from(s).map(e=>String.fromCodePoint(e.codePointAt(0)+o.zeroCode-48)).join(\"\")),o.regular){for(let e=Math.floor((s.length-1)/o.groupingSeparators.position);e>0;e--){const t=s.length-e*o.groupingSeparators.position;s=s.substr(0,t)+o.groupingSeparators.character+s.substr(t)}}else o.groupingSeparators.reverse().forEach(e=>{const t=s.length-e.position;s=s.substr(0,t)+e.character+s.substr(t)});if(o.ordinal){var d={1:\"st\",2:\"nd\",3:\"rd\"}[s[s.length-1]];(!d||s.length>1&&\"1\"===s[s.length-2])&&(d=\"th\"),s+=d}break;case u.SEQUENCE:throw{code:\"D3130\",value:o.token}}return l&&(s=\"-\"+s),s}const p=[48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296];function f(e){const t={type:\"integer\",primary:u.DECIMAL,case:c.LOWER,ordinal:!1};let r,n;const i=e.lastIndexOf(\";\");switch(-1===i?r=e:(r=e.substring(0,i),\"o\"===(n=e.substring(i+1))[0]&&(t.ordinal=!0)),r){case\"A\":t.case=c.UPPER;case\"a\":t.primary=u.LETTERS;break;case\"I\":t.case=c.UPPER;case\"i\":t.primary=u.ROMAN;break;case\"W\":t.case=c.UPPER,t.primary=u.WORDS;break;case\"Ww\":t.case=c.TITLE,t.primary=u.WORDS;break;case\"w\":t.primary=u.WORDS;break;default:{let e=null,n=0,i=0,a=[],o=0;if(Array.from(r,e=>e.codePointAt(0)).reverse().forEach(t=>{let r=!1;for(let i=0;i<p.length;i++){const a=p[i];if(t>=a&&t<=a+9){if(r=!0,n++,o++,null===e)e=a;else if(a!==e)throw{code:\"D3131\"};break}}r||(35===t?(o++,i++):a.push({position:o,character:String.fromCodePoint(t)}))}),n>0){t.primary=u.DECIMAL,t.zeroCode=e,t.mandatoryDigits=n,t.optionalDigits=i;const r=function(e){if(0===e.length)return 0;const t=e[0].character;for(let r=1;r<e.length;r++)if(e[r].character!==t)return 0;const r=e.map(e=>e.position),n=function(e,t){return 0===t?e:n(t,e%t)},i=r.reduce(n);for(let e=1;e<=r.length;e++)if(-1===r.indexOf(e*i))return 0;return i}(a);r>0?(t.regular=!0,t.groupingSeparators={position:r,character:a[0].character}):(t.regular=!1,t.groupingSeparators=a)}else t.primary=u.SEQUENCE,t.token=r}}return t}const d={Y:\"1\",M:\"1\",D:\"1\",d:\"1\",F:\"n\",W:\"1\",w:\"1\",X:\"1\",x:\"1\",H:\"1\",h:\"1\",P:\"n\",m:\"01\",s:\"01\",f:\"1\",Z:\"01:01\",z:\"01:01\",C:\"n\",E:\"n\"};function h(e){var t=[];const r={type:\"datetime\",parts:t},n=function(r,n){if(n>r){let i=e.substring(r,n);i=i.split(\"]]\").join(\"]\"),t.push({type:\"literal\",value:i})}};for(var i=0,a=0;a<e.length;){if(\"[\"===e.charAt(a)){if(\"[\"===e.charAt(a+1)){n(i,a),t.push({type:\"literal\",value:\"[\"}),i=a+=2;continue}if(n(i,a),i=a,-1===(a=e.indexOf(\"]\",i)))throw{code:\"D3135\"};let r=e.substring(i+1,a);var o,s={type:\"marker\",component:(r=r.split(/\\s+/).join(\"\")).charAt(0)},u=r.lastIndexOf(\",\");if(-1!==u){const e=r.substring(u+1),t=e.indexOf(\"-\");let n,i;const a=function(e){return void 0===e||\"*\"===e?void 0:parseInt(e)};-1===t?n=e:(n=e.substring(0,t),i=e.substring(t+1));const c={min:a(n),max:a(i)};s.width=c,o=r.substring(1,u)}else o=r.substring(1);if(1===o.length)s.presentation1=o;else if(o.length>1){var l=o.charAt(o.length-1);-1!==\"atco\".indexOf(l)?(s.presentation2=l,\"o\"===l&&(s.ordinal=!0),s.presentation1=o.substring(0,o.length-1)):s.presentation1=o}else s.presentation1=d[s.component];if(void 0===s.presentation1)throw{code:\"D3132\",value:s.component};if(\"n\"===s.presentation1[0])s.names=c.LOWER;else if(\"N\"===s.presentation1[0])\"n\"===s.presentation1[1]?s.names=c.TITLE:s.names=c.UPPER;else if(-1!==\"YMDdFWwXxHhmsf\".indexOf(s.component)){var p=s.presentation1;if(s.presentation2&&(p+=\";\"+s.presentation2),s.integerFormat=f(p),s.width&&void 0!==s.width.min&&s.integerFormat.mandatoryDigits<s.width.min&&(s.integerFormat.mandatoryDigits=s.width.min),\"Y\"===s.component)if(s.n=-1,s.width&&void 0!==s.width.max)s.n=s.width.max,s.integerFormat.mandatoryDigits=s.n;else{var h=s.integerFormat.mandatoryDigits+s.integerFormat.optionalDigits;h>=2&&(s.n=h)}}\"Z\"!==s.component&&\"z\"!==s.component||(s.integerFormat=f(s.presentation1)),t.push(s),i=a+1}a++}return n(i,a),r}const v=[\"\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"],g=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],y=function(e){const t=Date.UTC(e.year,e.month);var r=new Date(t).getDay();return 0===r&&(r=7),r>4?t+864e5*(8-r):t-864e5*(r-1)},m=function(e,t){return{year:e,month:t,nextMonth:function(){return 11===t?m(e+1,0):m(e,t+1)},previousMonth:function(){return 0===t?m(e-1,11):m(e,t-1)},nextYear:function(){return m(e+1,t)},previousYear:function(){return m(e-1,t)}}},b=function(e,t){return(t-e)/6048e5+1},k=(e,t)=>{let r;switch(t){case\"Y\":r=e.getUTCFullYear();break;case\"M\":r=e.getUTCMonth()+1;break;case\"D\":r=e.getUTCDate();break;case\"d\":r=(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())-Date.UTC(e.getUTCFullYear(),0))/864e5+1;break;case\"F\":0===(r=e.getUTCDay())&&(r=7);break;case\"W\":{const t=m(e.getUTCFullYear(),0),n=y(t),i=Date.UTC(t.year,e.getUTCMonth(),e.getUTCDate());let a=b(n,i);if(a>52){i>=y(t.nextYear())&&(a=1)}else if(a<1){const e=y(t.previousYear());a=b(e,i)}r=Math.floor(a);break}case\"w\":{const t=m(e.getUTCFullYear(),e.getUTCMonth()),n=y(t),i=Date.UTC(t.year,t.month,e.getUTCDate());let a=b(n,i);if(a>4){i>=y(t.nextMonth())&&(a=1)}else if(a<1){const e=y(t.previousMonth());a=b(e,i)}r=Math.floor(a);break}case\"X\":{const t=m(e.getUTCFullYear(),0),n=y(t),i=y(t.nextYear()),a=e.getTime();r=a<n?t.year-1:a>=i?t.year+1:t.year;break}case\"x\":{const t=m(e.getUTCFullYear(),e.getUTCMonth()),n=y(t),i=t.nextMonth(),a=y(i),o=e.getTime();r=o<n?t.previousMonth().month+1:o>=a?i.month+1:t.month+1;break}case\"H\":r=e.getUTCHours();break;case\"h\":r=e.getUTCHours(),0===(r%=12)&&(r=12);break;case\"P\":r=e.getUTCHours()>=12?\"pm\":\"am\";break;case\"m\":r=e.getUTCMinutes();break;case\"s\":r=e.getUTCSeconds();break;case\"f\":r=e.getUTCMilliseconds();break;case\"Z\":case\"z\":break;case\"C\":case\"E\":r=\"ISO\"}return r},x=h(\"[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].[f001][Z01:01t]\");function w(e,t,r){var n=0,i=0;if(void 0!==r){const e=parseInt(r);n=Math.floor(e/100),i=e%100}let a;a=void 0===t?x:h(t);const o=new Date(e+60*(60*n+i)*1e3);let u=\"\";return a.parts.forEach(function(e){\"literal\"===e.type?u+=e.value:u+=function(e,t){var r=k(e,t.component);if(-1!==\"YMDdFWwXxHhms\".indexOf(t.component))if(\"Y\"===t.component&&-1!==t.n&&(r%=Math.pow(10,t.n)),t.names){if(\"M\"===t.component||\"x\"===t.component)r=g[r-1];else{if(\"F\"!==t.component)throw{code:\"D3133\",value:t.component};r=v[r]}t.names===c.UPPER?r=r.toUpperCase():t.names===c.LOWER&&(r=r.toLowerCase()),t.width&&r.length>t.width.max&&(r=r.substring(0,t.width.max))}else r=l(r,t.integerFormat);else if(\"f\"===t.component)r=l(r,t.integerFormat);else if(\"Z\"===t.component||\"z\"===t.component){const e=100*n+i;if(t.integerFormat.regular)r=l(e,t.integerFormat);else{const a=t.integerFormat.mandatoryDigits;if(1===a||2===a)r=l(n,t.integerFormat),0!==i&&(r+=\":\"+s(i,\"00\"));else{if(3!==a&&4!==a)throw{code:\"D3134\",value:a};r=l(e,t.integerFormat)}}e>=0&&(r=\"+\"+r),\"z\"===t.component&&(r=\"GMT\"+r),0===e&&\"t\"===t.presentation2&&(r=\"Z\")}return r}(o,e)}),u}function A(e){var t={};if(\"datetime\"===e.type)t.type=\"datetime\",t.parts=e.parts.map(function(e){var t={};if(\"literal\"===e.type)t.regex=e.value.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");else if(e.integerFormat)t=A(e.integerFormat);else{t.regex=\"[a-zA-Z]+\";var r={};if(\"M\"===e.component||\"x\"===e.component)g.forEach(function(t,n){e.width&&e.width.max?r[t.substring(0,e.width.max)]=n+1:r[t]=n+1});else if(\"F\"===e.component)v.forEach(function(t,n){n>0&&(e.width&&e.width.max?r[t.substring(0,e.width.max)]=n:r[t]=n)});else{if(\"P\"!==e.component)throw{code:\"D3133\",value:e.component};r={am:0,AM:0,pm:1,PM:1}}t.parse=function(e){return r[e]}}return t.component=e.component,t});else{t.type=\"integer\";const r=e.case===c.UPPER;switch(e.primary){case u.LETTERS:t.regex=r?\"[A-Z]+\":\"[a-z]+\",t.parse=function(e){return function(e,t){for(var r=t.charCodeAt(0),n=0,i=0;i<e.length;i++)n+=(e.charCodeAt(e.length-i-1)-r+1)*Math.pow(26,i);return n}(e,r?\"A\":\"a\")};break;case u.ROMAN:t.regex=r?\"[MDCLXVI]+\":\"[mdclxvi]+\",t.parse=function(e){return function(e){for(var t=0,r=1,n=e.length-1;n>=0;n--){const i=e[n],a=o[i];a<r?t-=a:(r=a,t+=a)}return t}(r?e:e.toUpperCase())};break;case u.WORDS:t.regex=\"(?:\"+Object.keys(i).concat(\"and\",\"[\\\\-, ]\").join(\"|\")+\")+\",t.parse=function(e){return function(e){let t=[0];return e.split(/,\\s|\\sand\\s|[\\s\\\\-]/).map(e=>i[e]).forEach(e=>{if(e<100){let r=t.pop();r>=1e3&&(t.push(r),r=0),t.push(r+e)}else t.push(t.pop()*e)}),t.reduce((e,t)=>e+t,0)}(e.toLowerCase())};break;case u.DECIMAL:t.regex=\"[0-9]+\",e.ordinal&&(t.regex+=\"(?:th|st|nd|rd)\"),t.parse=function(t){let r=t;return e.ordinal&&(r=t.substring(0,t.length-2)),e.regular?r=r.split(\",\").join(\"\"):e.groupingSeparators.forEach(e=>{r=r.split(e.character).join(\"\")}),48!==e.zeroCode&&(r=r.split(\"\").map(t=>String.fromCodePoint(t.codePointAt(0)-e.zeroCode+48)).join(\"\")),parseInt(r)};break;case u.SEQUENCE:throw{code:\"D3130\",value:e.token}}}return t}var E=new RegExp(\"^\\\\d{4}(-[01]\\\\d)*(-[0-3]\\\\d)*(T[0-2]\\\\d:[0-5]\\\\d:[0-5]\\\\d)*(\\\\.\\\\d+)?([+-][0-2]\\\\d:?[0-5]\\\\d|Z)?$\");return{formatInteger:s,parseInteger:function(e,t){if(void 0===e)return;return A(f(t)).parse(e)},fromMillis:function(e,t,r){if(void 0!==e)return w.call(this,e,t,r)},toMillis:function(e,t){if(void 0!==e){if(void 0===t){if(!E.test(e))throw{stack:(new Error).stack,code:\"D3110\",value:e};return Date.parse(e)}return function(e,t){const r=A(h(t)),n=\"^\"+r.parts.map(e=>\"(\"+e.regex+\")\").join(\"\")+\"$\";var i=new RegExp(n,\"i\").exec(e);if(null!==i){const e=161,t=130,n=84,a=72,o=23,s=47,u={};for(let e=1;e<i.length;e++){const t=r.parts[e-1];t.parse&&(u[t.component]=t.parse(i[e]))}if(0===Object.getOwnPropertyNames(u).length)return;let c=0;const l=e=>{c<<=1,c+=e?1:0},p=e=>!(~e&c||!(e&c));\"YXMxWwdD\".split(\"\").forEach(e=>l(u[e]));const f=!p(e)&&p(t),d=p(n),h=!d&&p(a);c=0,\"PHhmsf\".split(\"\").forEach(e=>l(u[e]));const v=!p(o)&&p(s),g=(f?\"YD\":d?\"XxwF\":h?\"XWF\":\"YMD\")+(v?\"Phmsf\":\"Hmsf\"),y=this.environment.timestamp;let m=!1,b=!1;if(g.split(\"\").forEach(e=>{if(void 0===u[e])m?(u[e]=-1!==\"MDd\".indexOf(e)?1:0,b=!0):u[e]=k(y,e);else if(m=!0,b)throw{code:\"D3136\"}}),u.M>0?u.M-=1:u.M=0,f){const e=Date.UTC(u.Y,0),t=1e3*(u.d-1)*60*60*24,r=new Date(e+t);u.M=r.getMonth(),u.D=r.getDate()}if(d)throw{code:\"D3136\"};if(h)throw{code:\"D3136\"};return v&&(u.H=12===u.h?0:u.h,1===u.P&&(u.H+=12)),Date.UTC(u.Y,u.M,u.D,u.H,u.m,u.s,u.f)}}.call(this,e,t)}}}}();t.exports=n},{}],2:[function(e,t,r){(function(r){var n=e(\"./utils\");const i=(()=>{\"use strict\";var e=n.isNumeric,t=n.isArrayOfStrings,i=n.isArrayOfNumbers,a=n.createSequence,o=n.isSequence,s=n.isFunction,u=n.isLambda,c=n.isIterable,l=n.getFunctionArity,p=n.isDeepEqual;function f(e,t,r){if(void 0!==e){var n=Array.from(e),i=n.length;if(i+t<0&&(t=0),void 0!==r){if(r<=0)return\"\";var a=t>=0?t+r:i+t+r;return n.slice(t,a).join(\"\")}return n.slice(t).join(\"\")}}function d(e){if(void 0!==e)return Array.from(e).length}function*h(e,t){var r=e.apply(this,[t]);if(c(r)&&(r=yield*r),r&&\"number\"!=typeof r.start&&\"number\"!==r.end&&!Array.isArray(r.groups)&&!s(r.next))throw{code:\"T1010\",stack:(new Error).stack};return r}function v(e,t){var r;if(void 0!==e){if(t){var n=e.toString().split(\"e\");e=+(n[0]+\"e\"+(n[1]?+n[1]+t:t))}var i=(r=Math.round(e))-e;return.5===Math.abs(i)&&1===Math.abs(r%2)&&(r-=1),t&&(r=+((n=r.toString().split(\"e\"))[0]+\"e\"+(n[1]?+n[1]-t:-t))),Object.is(r,-0)&&(r=0),r}}function g(t){if(void 0!==t){var r=!1;if(Array.isArray(t)){if(1===t.length)r=g(t[0]);else if(t.length>1){r=t.filter(function(e){return g(e)}).length>0}}else\"string\"==typeof t?t.length>0&&(r=!0):e(t)?0!==t&&(r=!0):null!==t&&\"object\"==typeof t?Object.keys(t).length>0&&(r=!0):\"boolean\"==typeof t&&!0===t&&(r=!0);return r}}function y(e,t,r,n){var i=[t],a=l(e);return a>=2&&i.push(r),a>=3&&i.push(n),i}function m(e,t){return void 0===e?t:void 0===t?e:(Array.isArray(e)||(e=a(e)),Array.isArray(t)||(t=[t]),e.concat(t))}return{sum:function(e){if(void 0!==e){var t=0;return e.forEach(function(e){t+=e}),t}},count:function(e){return void 0===e?0:e.length},max:function(e){if(void 0!==e&&0!==e.length)return Math.max.apply(Math,e)},min:function(e){if(void 0!==e&&0!==e.length)return Math.min.apply(Math,e)},average:function(e){if(void 0!==e&&0!==e.length){var t=0;return e.forEach(function(e){t+=e}),t/e.length}},string:function(t,r=!1){if(void 0!==t){var n;if(\"string\"==typeof t)n=t;else if(s(t))n=\"\";else{if(\"number\"==typeof t&&!isFinite(t))throw{code:\"D3001\",value:t,stack:(new Error).stack};var i=r?2:0;n=JSON.stringify(t,function(t,r){return void 0!==r&&null!==r&&r.toPrecision&&e(r)?Number(r.toPrecision(15)):r&&s(r)?\"\":r},i)}return n}},substring:f,substringBefore:function(e,t){if(void 0!==e){var r=e.indexOf(t);return r>-1?e.substr(0,r):e}},substringAfter:function(e,t){if(void 0!==e){var r=e.indexOf(t);return r>-1?e.substr(r+t.length):e}},lowercase:function(e){if(void 0!==e)return e.toLowerCase()},uppercase:function(e){if(void 0!==e)return e.toUpperCase()},length:d,trim:function(e){if(void 0!==e){var t=e.replace(/[ \\t\\n\\r]+/gm,\" \");return\" \"===t.charAt(0)&&(t=t.substring(1)),\" \"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}},pad:function(e,t,r){if(void 0!==e){var n;void 0!==r&&0!==r.length||(r=\" \");var i=Math.abs(t)-d(e);if(i>0)");
        builder.append("{var a=new Array(i+1).join(r);r.length>1&&(a=f(a,0,i)),n=t>0?e+a:a+e}else n=e;return n}},match:function*(e,t,r){if(void 0!==e){if(r<0)throw{stack:(new Error).stack,value:r,code:\"D3040\",index:3};var n=a();if(void 0===r||r>0){var i=0,o=yield*h(t,e);if(void 0!==o)for(;void 0!==o&&(void 0===r||i<r);)n.push({match:o.match,index:o.start,groups:o.groups}),o=yield*h(o.next),i++}return n}},contains:function*(e,t){if(void 0!==e){return\"string\"==typeof t?-1!==e.indexOf(t):void 0!==(yield*h(t,e))}},replace:function*(e,t,r,n){if(void 0!==e){var i;if(\"\"===t)throw{code:\"D3010\",stack:(new Error).stack,value:t,index:2};if(n<0)throw{code:\"D3011\",stack:(new Error).stack,value:n,index:4};i=\"string\"==typeof r?function(e){for(var t=\"\",n=0,i=r.indexOf(\"$\",n);-1!==i&&n<r.length;){t+=r.substring(n,i),n=i+1;var a=r.charAt(n);if(\"$\"===a)t+=\"$\",n++;else if(\"0\"===a)t+=e.match,n++;else{var o;if(o=0===e.groups.length?1:Math.floor(Math.log(e.groups.length)*Math.LOG10E)+1,i=parseInt(r.substring(n,n+o),10),o>1&&i>e.groups.length&&(i=parseInt(r.substring(n,n+o-1),10)),isNaN(i))t+=\"$\";else{if(e.groups.length>0){var s=e.groups[i-1];void 0!==s&&(t+=s)}n+=i.toString().length}}i=r.indexOf(\"$\",n)}return t+=r.substring(n)}:r;var a=\"\",o=0;if(void 0===n||n>0){var s=0;if(\"string\"==typeof t){for(var u=e.indexOf(t,o);-1!==u&&(void 0===n||s<n);)a+=e.substring(o,u),a+=r,o=u+t.length,s++,u=e.indexOf(t,o);a+=e.substring(o)}else{var l=yield*h(t,e);if(void 0!==l){for(;void 0!==l&&(void 0===n||s<n);){a+=e.substring(o,l.start);var p=i.apply(this,[l]);if(c(p)&&(p=yield*p),\"string\"!=typeof p)throw{code:\"D3012\",stack:(new Error).stack,value:p};a+=p,o=l.start+l.match.length,s++,l=yield*h(l.next)}a+=e.substring(o)}else a=e}}else a=e;return a}},split:function*(e,t,r){if(void 0!==e){if(r<0)throw{code:\"D3020\",stack:(new Error).stack,value:r,index:3};var n=[];if(void 0===r||r>0)if(\"string\"==typeof t)n=e.split(t,r);else{var i=0,a=yield*h(t,e);if(void 0!==a){for(var o=0;void 0!==a&&(void 0===r||i<r);)n.push(e.substring(o,a.start)),o=a.end,a=yield*h(a.next),i++;(void 0===r||i<r)&&n.push(e.substring(o))}else n.push(e)}return n}},join:function(e,t){if(void 0!==e)return void 0===t&&(t=\"\"),e.join(t)},formatNumber:function(e,t,r){if(void 0!==e){var n={\"decimal-separator\":\".\",\"grouping-separator\":\",\",\"exponent-separator\":\"e\",infinity:\"Infinity\",\"minus-sign\":\"-\",NaN:\"NaN\",percent:\"%\",\"per-mille\":\"â€°\",\"zero-digit\":\"0\",digit:\"#\",\"pattern-separator\":\";\"};void 0!==r&&Object.keys(r).forEach(function(e){n[e]=r[e]});for(var i=[],a=n[\"zero-digit\"].charCodeAt(0),o=a;o<a+10;o++)i.push(String.fromCharCode(o));var s=i.concat([n[\"decimal-separator\"],n[\"exponent-separator\"],n[\"grouping-separator\"],n.digit,n[\"pattern-separator\"]]),u=t.split(n[\"pattern-separator\"]);if(u.length>2)throw{code:\"D3080\",stack:(new Error).stack};var c=u.map(function(e){var t,r,i,a,o=function(){for(var t,r=0;r<e.length;r++)if(t=e.charAt(r),-1!==s.indexOf(t)&&t!==n[\"exponent-separator\"])return e.substring(0,r)}(),u=function(){for(var t,r=e.length-1;r>=0;r--)if(t=e.charAt(r),-1!==s.indexOf(t)&&t!==n[\"exponent-separator\"])return e.substring(r+1)}(),c=e.substring(o.length,e.length-u.length),l=e.indexOf(n[\"exponent-separator\"],o.length);-1===l||l>e.length-u.length?(t=c,r=void 0):(t=c.substring(0,l),r=c.substring(l+1));var p=t.indexOf(n[\"decimal-separator\"]);return-1===p?(i=t,a=u):(i=t.substring(0,p),a=t.substring(p+1)),{prefix:o,suffix:u,activePart:c,mantissaPart:t,exponentPart:r,integerPart:i,fractionalPart:a,subpicture:e}});c.forEach(function(e){var t,r,a=e.subpicture,o=a.indexOf(n[\"decimal-separator\"]);o!==a.lastIndexOf(n[\"decimal-separator\"])&&(t=\"D3081\"),a.indexOf(n.percent)!==a.lastIndexOf(n.percent)&&(t=\"D3082\"),a.indexOf(n[\"per-mille\"])!==a.lastIndexOf(n[\"per-mille\"])&&(t=\"D3083\"),-1!==a.indexOf(n.percent)&&-1!==a.indexOf(n[\"per-mille\"])&&(t=\"D3084\");var u=!1;for(r=0;r<e.mantissaPart.length;r++){var c=e.mantissaPart.charAt(r);if(-1!==i.indexOf(c)||c===n.digit){u=!0;break}}u||(t=\"D3085\"),-1!==e.activePart.split(\"\").map(function(e){return-1===s.indexOf(e)?\"p\":\"a\"}).join(\"\").indexOf(\"p\")&&(t=\"D3086\"),-1!==o?a.charAt(o-1)!==n[\"grouping-separator\"]&&a.charAt(o+1)!==n[\"grouping-separator\"]||(t=\"D3087\"):e.integerPart.charAt(e.integerPart.length-1)===n[\"grouping-separator\"]&&(t=\"D3088\"),-1!==a.indexOf(n[\"grouping-separator\"]+n[\"grouping-separator\"])&&(t=\"D3089\");var l=e.integerPart.indexOf(n.digit);-1!==l&&e.integerPart.substring(0,l).split(\"\").filter(function(e){return i.indexOf(e)>-1}).length>0&&(t=\"D3090\"),-1!==(l=e.fractionalPart.lastIndexOf(n.digit))&&e.fractionalPart.substring(l).split(\"\").filter(function(e){return i.indexOf(e)>-1}).length>0&&(t=\"D3091\");var p=\"string\"==typeof e.exponentPart;if(p&&e.exponentPart.length>0&&(-1!==a.indexOf(n.percent)||-1!==a.indexOf(n[\"per-mille\"]))&&(t=\"D3092\"),p&&(0===e.exponentPart.length||e.exponentPart.split(\"\").filter(function(e){return-1===i.indexOf(e)}).length>0)&&(t=\"D3093\"),t)throw{code:t,stack:(new Error).stack}});var l,p,f,d,h=c.map(function(e){var t=function(t,r){for(var a=[],o=t.indexOf(n[\"grouping-separator\"]);-1!==o;){var s=(r?t.substring(0,o):t.substring(o)).split(\"\").filter(function(e){return-1!==i.indexOf(e)||e===n.digit}).length;a.push(s),o=e.integerPart.indexOf(n[\"grouping-separator\"],o+1)}return a},r=t(e.integerPart),a=function(e){if(0===e.length)return 0;for(var t=function(e,r){return 0===r?e:t(r,e%r)},r=e.reduce(t),n=1;n<=e.length;n++)if(-1===e.indexOf(n*r))return 0;return r}(r),o=t(e.fractionalPart,!0),s=e.integerPart.split(\"\").filter(function(e){return-1!==i.indexOf(e)}).length,u=s,c=e.fractionalPart.split(\"\"),l=c.filter(function(e){return-1!==i.indexOf(e)}).length,p=c.filter(function(e){return-1!==i.indexOf(e)||e===n.digit}).length,f=\"string\"==typeof e.exponentPart;0===s&&0===p&&(f?(l=1,p=1):s=1),f&&0===s&&-1!==e.integerPart.indexOf(n.digit)&&(s=1),0===s&&0===l&&(l=1);var d=0;return f&&(d=e.exponentPart.split(\"\").filter(function(e){return-1!==i.indexOf(e)}).length),{integerPartGroupingPositions:r,regularGrouping:a,minimumIntegerPartSize:s,scalingFactor:u,prefix:e.prefix,fractionalPartGroupingPositions:o,minimumFactionalPartSize:l,maximumFactionalPartSize:p,minimumExponentSize:d,suffix:e.suffix,picture:e.subpicture}}),g=n[\"minus-sign\"],y=n[\"zero-digit\"],m=n[\"decimal-separator\"],b=n[\"grouping-separator\"];if(1===h.length&&(h.push(JSON.parse(JSON.stringify(h[0]))),h[1].prefix=g+h[1].prefix),p=-1!==(l=e>=0?h[0]:h[1]).picture.indexOf(n.percent)?100*e:-1!==l.picture.indexOf(n[\"per-mille\"])?1e3*e:e,0===l.minimumExponentSize)f=p;else{var k=Math.pow(10,l.scalingFactor),x=Math.pow(10,l.scalingFactor-1);for(f=p,d=0;f<x;)f*=10,d-=1;for(;f>k;)f/=10,d+=1}var w=function(e,t){var r=Math.abs(e).toFixed(t);return\"0\"!==y&&(r=r.split(\"\").map(function(e){return e>=\"0\"&&e<=\"9\"?i[e.charCodeAt(0)-48]:e}).join(\"\")),r},A=w(v(f,l.maximumFactionalPartSize),l.maximumFactionalPartSize),E=A.indexOf(\".\");for(-1===E?A+=m:A=A.replace(\".\",m);A.charAt(0)===y;)A=A.substring(1);for(;A.charAt(A.length-1)===y;)A=A.substring(0,A.length-1);E=A.indexOf(m);var D=l.minimumIntegerPartSize-E,T=l.minimumFactionalPartSize-(A.length-E-1);if(A=(D>0?new Array(D+1).join(y):\"\")+A,A+=T>0?new Array(T+1).join(y):\"\",E=A.indexOf(m),l.regularGrouping>0)for(var S=Math.floor((E-1)/l.regularGrouping),O=1;O<=S;O++)A=[A.slice(0,E-O*l.regularGrouping),b,A.slice(E-O*l.regularGrouping)].join(\"\");else l.integerPartGroupingPositions.forEach(function(e){A=[A.slice(0,E-e),b,A.slice(E-e)].join(\"\"),E++});if(E=A.indexOf(m),l.fractionalPartGroupingPositions.forEach(function(e){A=[A.slice(0,e+E+1),b,A.slice(e+E+1)].join(\"\")}),E=A.indexOf(m),-1!==l.picture.indexOf(m)&&E!==A.length-1||(A=A.substring(0,A.length-1)),void 0!==d){var P=w(d,0);(D=l.minimumExponentSize-P.length)>0&&(P=new Array(D+1).join(y)+P),A=A+n[\"exponent-separator\"]+(d<0?g:\"\")+P}return A=l.prefix+A+l.suffix}},formatBase:function(e,t){if(void 0!==e){if(e=v(e),(t=void 0===t?10:v(t))<2||t>36)throw{code:\"D3100\",stack:(new Error).stack,value:t};return e.toString(t)}},number:function(e){var t;if(void 0!==e){if(\"number\"==typeof e)t=e;else if(\"string\"==typeof e&&/^-?[0-9]+(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(e)&&!isNaN(parseFloat(e))&&isFinite(e))t=parseFloat(e);else if(!0===e)t=1;else{if(!1!==e)throw{code:\"D3030\",value:e,stack:(new Error).stack,index:1};t=0}return t}},floor:function(e){if(void 0!==e)return Math.floor(e)},ceil:function(e){if(void 0!==e)return Math.ceil(e)},round:v,abs:function(e){if(void 0!==e)return Math.abs(e)},sqrt:function(e){if(void 0!==e){if(e<0)throw{stack:(new Error).stack,code:\"D3060\",index:1,value:e};return Math.sqrt(e)}},power:function(e,t){var r;if(void 0!==e){if(r=Math.pow(e,t),!isFinite(r))throw{stack:(new Error).stack,code:\"D3061\",index:1,value:e,exp:t};return r}},random:function(){return Math.random()},boolean:g,not:function(e){return!g(e)},map:function*(e,t){if(void 0!==e){for(var r=a(),n=0;n<e.length;n++){var i=y(t,e[n],n,e),o=yield*t.apply(this,i);void 0!==o&&r.push(o)}return r}},zip:function(){for(var e=[],t=Array.prototype.slice.call(arguments),r=Math.min.apply(Math,t.map(function(e){return Array.isArray(e)?e.length:0})),n=0;n<r;n++){var i=t.map(e=>e[n]);e.push(i)}return e},filter:function*(e,t){if(void 0!==e){for(var r=a(),n=0;n<e.length;n++){var i=e[n],o=y(t,i,n,e);g(yield*t.apply(this,o))&&r.push(i)}return r}},single:function*(e,t){if(void 0!==e){for(var r,n=!1,i=0;i<e.length;i++){var a=e[i],o=!0;if(void 0!==t){var s=y(t,a,i,e);o=g(yield*t.apply(this,s))}if(o){if(n)throw{stack:(new Error).stack,code:\"D3138\",index:i};r=a,n=!0}}if(!n)throw{stack:(new Error).stack,code:\"D3139\"};return r}},foldLeft:function*(e,t,r){if(void 0!==e){var n,i,a=l(t);if(a<2)throw{stack:(new Error).stack,code:\"D3050\",index:1};for(void 0===r&&e.length>0?(n=e[0],i=1):(n=r,i=0);i<e.length;){var o=[n,e[i]];a>=3&&o.push(i),a>=4&&o.push(e),n=yield*t.apply(this,o),i++}return n}},sift:function*(e,t){var r={};for(var n in e){var i=e[n],a=y(t,i,n,e);g(yield*t.apply(this,a))&&(r[n]=i)}return 0===Object.keys(r).length&&(r=void 0),r},keys:function e(t){var r=a();if(Array.isArray(t)){var n={};t.forEach(function(t){e(t).forEach(function(e){n[e]=!0})}),r=e(n)}else null===t||\"object\"!=typeof t||u(t)||Object.keys(t).forEach(e=>r.push(e));return r},lookup:function e(t,r){var n;if(Array.isArray(t)){n=a();for(var i=0;i<t.length;i++){var o=e(t[i],r);void 0!==o&&(Array.isArray(o)?n.push(...o):n.push(o))}}else null!==t&&\"object\"==typeof t&&(n=t[r]);return n},append:m,exists:function(e){return void 0!==e},spread:function e(t){var r=a();if(Array.isArray(t))t.forEach(function(t){r=m(r,e(t))});else if(null===t||\"object\"!=typeof t||u(t))r=t;else for(var n in t){var i={};i[n]=t[n],r.push(i)}return r},merge:function(e){if(void 0!==e){var t={};return e.forEach(function(e){for(var r in e)t[r]=e[r]}),t}},reverse:function(e){if(void 0!==e){if(e.length<=1)return e;for(var t=e.length,r=new Array(t),n=0;n<t;n++)r[t-n-1]=e[n];return r}},each:function*(e,t){var r=a();for(var n in e){var i=y(t,e[n],n,e),o=yield*t.apply(this,i);void 0!==o&&r.push(o)}return r},error:function(e){throw{code:\"D3137\",stack:(new Error).stack,message:e||\"$error() function evaluated\"}},assert:function(e,t){if(!e)throw{code:\"D3141\",stack:(new Error).stack,message:t||\"$assert() statement failed\"}},type:function(t){if(void 0!==t)return null===t?\"null\":e(t)?\"number\":\"string\"==typeof t?\"string\":\"boolean\"==typeof t?\"boolean\":Array.isArray(t)?\"array\":s(t)?\"function\":\"object\"},sort:function*(e,r){if(void 0!==e){if(e.length<=1)return e;var n;if(void 0===r){if(!i(e)&&!t(e))throw{stack:(new Error).stack,code:\"D3070\",index:1};n=function*(e,t){return e>t}}else n=r;var a=function*(e){if(!Array.isArray(e)||e.length<=1)return e;var t=Math.floor(e.length/2),r=e.slice(0,t),i=e.slice(t);return yield*function*(e,t){var r=function*(e,t,i){0===t.length?Array.prototype.push.apply(e,i):0===i.length?Array.prototype.push.apply(e,t):(yield*n(t[0],i[0]))?(e.push(i[0]),yield*r(e,t,i.slice(1))):(e.push(t[0]),yield*r(e,t.slice(1),i))},i=[];return yield*r(i,e,t),i}(r=yield*a(r),i=yield*a(i))};return yield*a(e)}},shuffle:function(e){if(void 0!==e){if(e.length<=1)return e;for(var t=new Array(e.length),r=0;r<e.length;r++){var n=Math.floor(Math.random()*(r+1));r!==n&&(t[r]=t[n]),t[n]=e[r]}return t}},distinct:function(e){if(void 0!==e){if(!Array.isArray(e)||e.length<=1)return e;for(var t=o(e)?a():[],r=0;r<e.length;r++){for(var n=e[r],i=!1,s=0;s<t.length;s++)if(p(n,t[s])){i=!0;break}i||t.push(n)}return t}},base64encode:function(e){if(void 0!==e)return(\"undefined\"!=typeof window?window.btoa:function(e){return new r.Buffer.from(e,\"binary\").toString(\"base64\")})(e)},base64decode:function(e){if(void 0!==e)return(\"undefined\"!=typeof window?window.atob:function(e){return new r.Buffer(e,\"base64\").toString(\"binary\")})(e)},encodeUrlComponent:function(e){if(void 0!==e){var t;try{t=encodeURIComponent(e)}catch(t){throw{code:\"D3140\",stack:(new Error).stack,value:e,functionName:\"encodeUrlComponent\"}}return t}},encodeUrl:function(e){if(void 0!==e){var t;try{t=encodeURI(e)}catch(t){throw{code:\"D3140\",stack:(new Error).stack,value:e,functionName:\"encodeUrl\"}}return t}},decodeUrlComponent:function(e){if(void 0!==e){var t;try{t=decodeURIComponent(e)}catch(t){throw{code:\"D3140\",stack:(new Error).stack,value:e,functionName:\"decodeUrlComponent\"}}return t}},decodeUrl:function(e){if(void 0!==e){var t;try{t=decodeURI(e)}catch(t){throw{code:\"D3140\",stack:(new Error).stack,value:e,functionName:\"decodeUrl\"}}return t}}}})();t.exports=i}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./utils\":6}],3:[function(e,t,r){var n=e(\"./datetime\"),i=e(\"./functions\"),a=e(\"./utils\"),o=e(\"./parser\"),s=e(\"./signature\"),u=function(){\"use strict\";var e=a.isNumeric,t=a.isArrayOfStrings,r=a.isArrayOfNumbers,u=a.createSequence,c=a.isSequence,l=a.isFunction,p=a.isLambda,f=a.isIterable,d=a.getFunctionArity,h=a.isDeepEqual,v=U(null);function*g(r,n,a){var o,s=a.lookup(\"__evaluate_entry\");switch(s&&s(r,n,a),r.type){case\"path\":o=yield*function*(e,t,r){var n,i;n=Array.isArray(t)&&\"variable\"!==e.steps[0].type?t:u(t);for(var a=!1,o=void 0,s=0;s<e.steps.length;s++){var l=e.steps[s];if(l.tuple&&(a=!0),0===s&&l.consarray?i=yield*g(l,n,r):a?o=yield*k(l,n,o,r):i=yield*m(l,n,r,s===e.steps.length-1),!a&&(void 0===i||0===i.length))break;void 0===l.focus&&(n=i)}if(a)if(e.tuple)i=o;else for(i=u(),s=0;s<o.length;s++)i.push(o[s][\"@\"]);e.keepSingletonArray&&(c(i)||(i=u(i)),i.keepSingleton=!0);e.hasOwnProperty(\"group\")&&(i=yield*w(e.group,a?o:i,r));return i}(r,n,a);break;case\"binary\":o=yield*function*(t,r,n){var a,o=yield*g(t.lhs,r,n),s=yield*g(t.rhs,r,n),u=t.value;try{switch(u){case\"+\":case\"-\":case\"*\":case\"/\":case\"%\":a=function(t,r,n){var i;if(void 0!==t&&!e(t))throw{code:\"T2001\",stack:(new Error).stack,value:t};if(void 0!==r&&!e(r))throw{code:\"T2002\",stack:(new Error).stack,value:r};if(void 0===t||void 0===r)return i;switch(n){case\"+\":i=t+r;break;case\"-\":i=t-r;break;case\"*\":i=t*r;break;case\"/\":i=t/r;break;case\"%\":i=t%r}return i}(o,s,u);break;case\"=\":case\"!=\":a=function(e,t,r){var n;if(void 0===e||void 0===t)return!1;switch(r){case\"=\":n=h(e,t);break;case\"!=\":n=!h(e,t)}return n}(o,s,u);break;case\"<\":case\"<=\":case\">\":case\">=\":a=function(e,t,r){var n,i=typeof e,a=typeof t;if(\"undefined\"!==i&&\"string\"!==i&&\"number\"!==i||\"undefined\"!==a&&\"string\"!==a&&\"number\"!==a)throw{code:\"T2010\",stack:(new Error).stack,value:\"string\"!==i&&\"number\"!==i?e:t};if(\"undefined\"===i||\"undefined\"===a)return;if(i!==a)throw{code:\"T2009\",stack:(new Error).stack,value:e,value2:t};switch(r){case\"<\":n=e<t;break;case\"<=\":n=e<=t;break;case\">\":n=e>t;break;case\">=\":n=e>=t}return n}(o,s,u);break;case\"&\":a=function(e,t){var r=\"\",n=\"\";void 0!==e&&(r=i.string(e));void 0!==t&&(n=i.string(t));return r.concat(n)}(o,s);break;case\"and\":case\"or\":a=function(e,t,r){var n,a=i.boolean(e),o=i.boolean(t);void 0===a&&(a=!1);void 0===o&&(o=!1);switch(r){case\"and\":n=a&&o;break;case\"or\":n=a||o}return n}(o,s,u);break;case\"..\":a=function(e,t){var r;if(void 0!==e&&!Number.isInteger(e))throw{code:\"T2003\",stack:(new Error).stack,value:e};if(void 0!==t&&!Number.isInteger(t))throw{code:\"T2004\",stack:(new Error).stack,value:t};if(void 0===e||void 0===t)return r;if(e>t)return r;var n=t-e+1;if(n>1e7)throw{code:\"D2014\",stack:(new Error).stack,value:n};r=new Array(n);for(var i=e,a=0;i<=t;i++,a++)r[a]=i;return r.sequence=!0,r}(o,s);break;case\"in\":a=function(e,t){var r=!1;if(void 0===e||void 0===t)return!1");
        builder.append(";Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)if(t[n]===e){r=!0;break}return r}(o,s)}}catch(e){throw e.position=t.position,e.token=u,e}return a}(r,n,a);break;case\"unary\":o=yield*function*(t,r,n){var a;switch(t.value){case\"-\":if(void 0===(a=yield*g(t.expression,r,n)))a=void 0;else{if(!e(a))throw{code:\"D1002\",stack:(new Error).stack,position:t.position,token:t.value,value:a};a=-a}break;case\"[\":a=[];for(var o=0;o<t.expressions.length;o++){var s=t.expressions[o],u=yield*g(s,r,n);void 0!==u&&(\"[\"===s.value?a.push(u):a=i.append(a,u))}t.consarray&&Object.defineProperty(a,\"cons\",{enumerable:!1,configurable:!1,value:!0});break;case\"{\":a=yield*w(t,r,n)}return a}(r,n,a);break;case\"name\":o=function(e,t,r){return i.lookup(t,e.value)}(r,n);break;case\"string\":case\"number\":case\"value\":o=function(e){return e.value}(r);break;case\"wildcard\":o=function(e,t){var r=u();null!==t&&\"object\"==typeof t&&Object.keys(t).forEach(function(e){var n=t[e];Array.isArray(n)?(n=function e(t,r){void 0===r&&(r=[]);Array.isArray(t)?t.forEach(function(t){e(t,r)}):r.push(t);return r}(n),r=i.append(r,n)):r.push(n)});return r}(0,n);break;case\"descendant\":o=function(e,t){var r,n=u();void 0!==t&&(!function e(t,r){Array.isArray(t)||r.push(t);Array.isArray(t)?t.forEach(function(t){e(t,r)}):null!==t&&\"object\"==typeof t&&Object.keys(t).forEach(function(n){e(t[n],r)})}(t,n),r=1===n.length?n[0]:n);return r}(0,n);break;case\"parent\":o=a.lookup(r.slot.label);break;case\"condition\":o=yield*function*(e,t,r){var n,a=yield*g(e.condition,t,r);i.boolean(a)?n=yield*g(e.then,t,r):void 0!==e.else&&(n=yield*g(e.else,t,r));return n}(r,n,a);break;case\"block\":o=yield*function*(e,t,r){for(var n,i=U(r),a=0;a<e.expressions.length;a++)n=yield*g(e.expressions[a],t,i);return n}(r,n,a);break;case\"bind\":o=yield*function*(e,t,r){var n=yield*g(e.rhs,t,r);return r.bind(e.lhs.value,n),n}(r,n,a);break;case\"regex\":o=function(e){var t=new RegExp(e.value),r=function(n){var i,a=t.exec(n);if(null!==a){if(i={match:a[0],start:a.index,end:a.index+a[0].length,groups:[]},a.length>1)for(var o=1;o<a.length;o++)i.groups.push(a[o]);i.next=function(){if(!(t.lastIndex>=n.length)){var i=r(n);if(i&&\"\"===i.match)throw{code:\"D1004\",stack:(new Error).stack,position:e.position,value:e.value.source};return i}}}return i};return r}(r);break;case\"function\":o=yield*T(r,n,a);break;case\"variable\":o=function(e,t,r){var n;n=\"\"===e.value?t&&t.outerWrapper?t[0]:t:r.lookup(e.value);return n}(r,n,a);break;case\"lambda\":o=function(e,t,r){var n={_jsonata_lambda:!0,input:t,environment:r,arguments:e.arguments,signature:e.signature,body:e.body};!0===e.thunk&&(n.thunk=!0);return n.apply=function*(e,r){return yield*S(n,r,t,e.environment)},n}(r,n,a);break;case\"partial\":o=yield*function*(e,t,r){for(var n,i=[],a=0;a<e.arguments.length;a++){var o=e.arguments[a];\"operator\"===o.type&&\"?\"===o.value?i.push(o):i.push(yield*g(o,t,r))}var s=yield*g(e.procedure,t,r);if(void 0===s&&\"path\"===e.procedure.type&&r.lookup(e.procedure.steps[0].value))throw{code:\"T1007\",stack:(new Error).stack,position:e.position,token:e.procedure.steps[0].value};if(p(s))n=P(s,i);else if(s&&!0===s._jsonata_function)n=M(s.implementation,i);else{if(\"function\"!=typeof s)throw{code:\"T1008\",stack:(new Error).stack,position:e.position,token:\"path\"===e.procedure.type?e.procedure.steps[0].value:e.procedure.value};n=M(s,i)}return n}(r,n,a);break;case\"apply\":o=yield*function*(e,t,r){var n,i=yield*g(e.lhs,t,r);if(\"function\"===e.rhs.type)n=yield*T(e.rhs,t,r,{context:i});else{var a=yield*g(e.rhs,t,r);if(!l(a))throw{code:\"T2006\",stack:(new Error).stack,position:e.position,value:a};if(l(i)){var o=yield*g(D,null,r);n=yield*S(o,[i,a],null,r)}else n=yield*S(a,[i],null,r)}return n}(r,n,a);break;case\"transform\":o=function(e,r,n){return j(function*(r){if(void 0!==r){var i=n.lookup(\"clone\");if(!l(i))throw{code:\"T2013\",stack:(new Error).stack,position:e.position};var a=yield*S(i,[r],null,n),o=yield*g(e.pattern,a,n);if(void 0!==o){Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var u=o[s],c=yield*g(e.update,u,n),p=typeof c;if(\"undefined\"!==p){if(\"object\"!==p||null===c||Array.isArray(c))throw{code:\"T2011\",stack:(new Error).stack,position:e.update.position,value:c};for(var f in c)u[f]=c[f]}if(void 0!==e.delete){var d=yield*g(e.delete,u,n);if(void 0!==d){var h=d;if(Array.isArray(d)||(d=[d]),!t(d))throw{code:\"T2012\",stack:(new Error).stack,position:e.delete.position,value:h};for(var v=0;v<d.length;v++)\"object\"==typeof u&&null!==u&&delete u[d[v]]}}}}return a}},\"<(oa):o>\")}(r,0,a)}if(!a.async||void 0!==o&&null!==o&&\"function\"==typeof o.then||(o=Promise.resolve(o)),a.async&&\"function\"==typeof o.then&&r.nextFunction&&\"function\"==typeof o[r.nextFunction]||(o=yield o),Object.prototype.hasOwnProperty.call(r,\"predicate\"))for(var f=0;f<r.predicate.length;f++)o=yield*x(r.predicate[f].expr,o,a);\"path\"!==r.type&&Object.prototype.hasOwnProperty.call(r,\"group\")&&(o=yield*w(r.group,o,a));var d=a.lookup(\"__evaluate_exit\");return d&&d(r,n,a,o),o&&c(o)&&!o.tupleStream&&(r.keepArray&&(o.keepSingleton=!0),0===o.length?o=void 0:1===o.length&&(o=o.keepSingleton?o:o[0])),o}function y(e,t){var r=U(e);for(const e in t)r.bind(e,t[e]);return r}function*m(e,t,r,n){var i;if(\"sort\"===e.type)return i=yield*E(e,t,r),e.stages&&(i=yield*b(e.stages,i,r)),i;i=u();for(var a=0;a<t.length;a++){var o=yield*g(e,t[a],r);if(e.stages)for(var s=0;s<e.stages.length;s++)o=yield*x(e.stages[s].expr,o,r);void 0!==o&&i.push(o)}var l=u();return n&&1===i.length&&Array.isArray(i[0])&&!c(i[0])?l=i[0]:i.forEach(function(e){!Array.isArray(e)||e.cons?l.push(e):Array.prototype.push.apply(l,e)}),l}function*b(e,t,r){for(var n=t,i=0;i<e.length;i++){var a=e[i];switch(a.type){case\"filter\":n=yield*x(a.expr,n,r);break;case\"index\":for(var o=0;o<n.length;o++){n[o][a.value]=o}}}return n}function*k(e,t,r,n){var i;if(\"sort\"===e.type){if(r)i=yield*E(e,r,n);else{var a=yield*E(e,t,n);(i=u()).tupleStream=!0;for(var o=0;o<a.length;o++){var s={\"@\":a[o]};s[e.index]=o,i.push(s)}}return e.stages&&(i=yield*b(e.stages,i,n)),i}(i=u()).tupleStream=!0;var c=n;void 0===r&&(r=t.map(e=>({\"@\":e})));for(var l=0;l<r.length;l++){c=y(n,r[l]);var p=yield*g(e,r[l][\"@\"],c);if(void 0!==p){Array.isArray(p)||(p=[p]);for(var f=0;f<p.length;f++)s={},Object.assign(s,r[l]),p.tupleStream?Object.assign(s,p[f]):(e.focus?(s[e.focus]=p[f],s[\"@\"]=r[l][\"@\"]):s[\"@\"]=p[f],e.index&&(s[e.index]=f),e.ancestor&&(s[e.ancestor.label]=r[l][\"@\"])),i.push(s)}}return e.stages&&(i=yield*b(e.stages,i,n)),i}function*x(t,n,a){var o=u();if(n&&n.tupleStream&&(o.tupleStream=!0),Array.isArray(n)||(n=u(n)),\"number\"===t.type){var s=Math.floor(t.value);s<0&&(s=n.length+s),void 0!==(c=n[s])&&(Array.isArray(c)?o=c:o.push(c))}else for(s=0;s<n.length;s++){var c,l=c=n[s],p=a;n.tupleStream&&(l=c[\"@\"],p=y(a,c));var f=yield*g(t,l,p);e(f)&&(f=[f]),r(f)?f.forEach(function(e){var t=Math.floor(e);t<0&&(t=n.length+t),t===s&&o.push(c)}):i.boolean(f)&&o.push(c)}return o}function*w(e,t,r){var n={},a={},o=!(!t||!t.tupleStream);Array.isArray(t)||(t=u(t));for(var s=0;s<t.length;s++)for(var c=t[s],l=o?y(r,c):r,p=0;p<e.lhs.length;p++){var f=yield*g(e.lhs[p][0],o?c[\"@\"]:c,l);if(\"string\"!=typeof f)throw{code:\"T1003\",stack:(new Error).stack,position:e.position,value:f};var d={data:c,exprIndex:p};if(a.hasOwnProperty(f)){if(a[f].exprIndex!==p)throw{code:\"D1009\",stack:(new Error).stack,position:e.position,value:f};a[f].data=i.append(a[f].data,c)}else a[f]=d}for(f in a){var h=(d=a[f]).data;l=r;if(o){var v=A(d.data);h=v[\"@\"],delete v[\"@\"],l=y(r,v)}var m=yield*g(e.lhs[d.exprIndex][1],h,l);void 0!==m&&(n[f]=m)}return n}function A(e){if(!Array.isArray(e))return e;var t={};Object.assign(t,e[0]);for(var r=1;r<e.length;r++)for(const n in e[r])t[n]=i.append(t[n],e[r][n]);return t}function*E(e,t,r){var n=t,a=!!t.tupleStream,o={environment:r,input:t};return yield*i.sort.apply(o,[n,function*(t,n){for(var i=0,o=0;0===i&&o<e.terms.length;o++){var s=e.terms[o],u=t,c=r;a&&(u=t[\"@\"],c=y(r,t));var l=yield*g(s.expression,u,c);u=n,c=r,a&&(u=n[\"@\"],c=y(r,n));var p=yield*g(s.expression,u,c),f=typeof l,d=typeof p;if(\"undefined\"!==f)if(\"undefined\"!==d){if(\"string\"!==f&&\"number\"!==f||\"string\"!==d&&\"number\"!==d)throw{code:\"T2008\",stack:(new Error).stack,position:e.position,value:\"string\"!==f&&\"number\"!==f?l:p};if(f!==d)throw{code:\"T2007\",stack:(new Error).stack,position:e.position,value:l,value2:p};l!==p&&(i=l<p?-1:1,!0===s.descending&&(i=-i))}else i=-1;else i=\"undefined\"===d?0:1}return 1===i}])}var D=o(\"function($f, $g) { function($x){ $g($f($x)) } }\");function*T(e,t,r,n){var i,a=yield*g(e.procedure,t,r);if(void 0===a&&\"path\"===e.procedure.type&&r.lookup(e.procedure.steps[0].value))throw{code:\"T1005\",stack:(new Error).stack,position:e.position,token:e.procedure.steps[0].value};var o=[];void 0!==n&&o.push(n.context);for(var s=0;s<e.arguments.length;s++){const n=yield*g(e.arguments[s],t,r);if(l(n)){const e=function*(...e){return yield*S(n,e,null,r)};e.arity=d(n),o.push(e)}else o.push(n)}var u=\"path\"===e.procedure.type?e.procedure.steps[0].value:e.procedure.value;try{\"object\"==typeof a&&(a.token=u,a.position=e.position),i=yield*S(a,o,t,r)}catch(t){throw t.position||(t.position=e.position),t.token||(t.token=u),t}return i}function*S(e,t,r,n){var i;for(i=yield*O(e,t,r,n);p(i)&&!0===i.thunk;){var a=yield*g(i.body.procedure,i.input,i.environment);\"variable\"===i.body.procedure.type&&(a.token=i.body.procedure.value),a.position=i.body.procedure.position;for(var o=[],s=0;s<i.body.arguments.length;s++)o.push(yield*g(i.body.arguments[s],i.input,i.environment));i=yield*O(a,o,r,n)}return i}function*O(e,t,r,n){var i;try{var a=t;if(e&&(a=function(e,t,r){if(void 0===e)return t;return e.validate(t,r)}(e.signature,t,r)),p(e))i=yield*function*(e,t){var r,n=U(e.environment);e.arguments.forEach(function(e,r){n.bind(e.value,t[r])}),r=\"function\"==typeof e.body?yield*function*(e,t){var r=C(e).map(function(e){return t.lookup(e.trim())}),n={environment:t},i=e.apply(n,r);f(i)&&(i=yield*i);return i}(e.body,n):yield*g(e.body,e.input,n);return r}(e,a);else if(e&&!0===e._jsonata_function){var o={environment:n,input:r};i=e.implementation.apply(o,a),f(i)&&(i=yield*i)}else{if(\"function\"!=typeof e)throw{code:\"T1006\",stack:(new Error).stack};i=e.apply(r,a),f(i)&&(i=yield*i)}}catch(t){throw e&&(void 0===t.token&&void 0!==e.token&&(t.token=e.token),t.position=e.position),t}return i}function P(e,t){var r=U(e.environment),n=[];return e.arguments.forEach(function(e,i){var a=t[i];a&&\"operator\"===a.type&&\"?\"===a.value?n.push(e):r.bind(e.value,a)}),{_jsonata_lambda:!0,input:e.input,environment:r,arguments:n,body:e.body}}function M(e,t){var r=C(e),n=\"function(\"+(r=r.map(function(e){return\"$\"+e.trim()})).join(\", \")+\"){ _ }\",i=o(n);return i.body=e,P(i,t)}function C(e){var t=e.toString();return/\\(([^)]*)\\)/.exec(t)[1].split(\",\")}function j(e,t){var r={_jsonata_function:!0,implementation:e};return void 0!==t&&(r.signature=s(t)),r}function U(e){var t={};return{bind:function(e,r){t[e]=r},lookup:function(r){var n;return t.hasOwnProperty(r)?n=t[r]:e&&(n=e.lookup(r)),n},timestamp:e?e.timestamp:null,async:!!e&&e.async,global:e?e.global:{ancestry:[null]}}}v.bind(\"sum\",j(i.sum,\"<a<n>:n>\")),v.bind(\"count\",j(i.count,\"<a:n>\")),v.bind(\"max\",j(i.max,\"<a<n>:n>\")),v.bind(\"min\",j(i.min,\"<a<n>:n>\")),v.bind(\"average\",j(i.average,\"<a<n>:n>\")),v.bind(\"string\",j(i.string,\"<x-b?:s>\")),v.bind(\"substring\",j(i.substring,\"<s-nn?:s>\")),v.bind(\"substringBefore\",j(i.substringBefore,\"<s-s:s>\")),v.bind(\"substringAfter\",j(i.substringAfter,\"<s-s:s>\")),v.bind(\"lowercase\",j(i.lowercase,\"<s-:s>\")),v.bind(\"uppercase\",j(i.uppercase,\"<s-:s>\")),v.bind(\"length\",j(i.length,\"<s-:n>\")),v.bind(\"trim\",j(i.trim,\"<s-:s>\")),v.bind(\"pad\",j(i.pad,\"<s-ns?:s>\")),v.bind(\"match\",j(i.match,\"<s-f<s:o>n?:a<o>>\")),v.bind(\"contains\",j(i.contains,\"<s-(sf):b>\")),v.bind(\"replace\",j(i.replace,\"<s-(sf)(sf)n?:s>\")),v.bind(\"split\",j(i.split,\"<s-(sf)n?:a<s>>\")),v.bind(\"join\",j(i.join,\"<a<s>s?:s>\")),v.bind(\"formatNumber\",j(i.formatNumber,\"<n-so?:s>\")),v.bind(\"formatBase\",j(i.formatBase,\"<n-n?:s>\")),v.bind(\"formatInteger\",j(n.formatInteger,\"<n-s:s>\")),v.bind(\"parseInteger\",j(n.parseInteger,\"<s-s:n>\")),v.bind(\"number\",j(i.number,\"<(nsb)-:n>\")),v.bind(\"floor\",j(i.floor,\"<n-:n>\")),v.bind(\"ceil\",j(i.ceil,\"<n-:n>\")),v.bind(\"round\",j(i.round,\"<n-n?:n>\")),v.bind(\"abs\",j(i.abs,\"<n-:n>\")),v.bind(\"sqrt\",j(i.sqrt,\"<n-:n>\")),v.bind(\"power\",j(i.power,\"<n-n:n>\")),v.bind(\"random\",j(i.random,\"<:n>\")),v.bind(\"boolean\",j(i.boolean,\"<x-:b>\")),v.bind(\"not\",j(i.not,\"<x-:b>\")),v.bind(\"map\",j(i.map,\"<af>\")),v.bind(\"zip\",j(i.zip,\"<a+>\")),v.bind(\"filter\",j(i.filter,\"<af>\")),v.bind(\"single\",j(i.single,\"<af?>\")),v.bind(\"reduce\",j(i.foldLeft,\"<afj?:j>\")),v.bind(\"sift\",j(i.sift,\"<o-f?:o>\")),v.bind(\"keys\",j(i.keys,\"<x-:a<s>>\")),v.bind(\"lookup\",j(i.lookup,\"<x-s:x>\")),v.bind(\"append\",j(i.append,\"<xx:a>\")),v.bind(\"exists\",j(i.exists,\"<x:b>\")),v.bind(\"spread\",j(i.spread,\"<x-:a<o>>\")),v.bind(\"merge\",j(i.merge,\"<a<o>:o>\")),v.bind(\"reverse\",j(i.reverse,\"<a:a>\")),v.bind(\"each\",j(i.each,\"<o-f:a>\")),v.bind(\"error\",j(i.error,\"<s?:x>\")),v.bind(\"assert\",j(i.assert,\"<bs?:x>\")),v.bind(\"type\",j(i.type,\"<x:s>\")),v.bind(\"sort\",j(i.sort,\"<af?:a>\")),v.bind(\"shuffle\",j(i.shuffle,\"<a:a>\")),v.bind(\"distinct\",j(i.distinct,\"<x:x>\")),v.bind(\"base64encode\",j(i.base64encode,\"<s-:s>\")),v.bind(\"base64decode\",j(i.base64decode,\"<s-:s>\")),v.bind(\"encodeUrlComponent\",j(i.encodeUrlComponent,\"<s-:s>\")),v.bind(\"encodeUrl\",j(i.encodeUrl,\"<s-:s>\")),v.bind(\"decodeUrlComponent\",j(i.decodeUrlComponent,\"<s-:s>\")),v.bind(\"decodeUrl\",j(i.decodeUrl,\"<s-:s>\")),v.bind(\"eval\",j(function*(e,t){if(void 0!==e){var r=this.input;void 0!==t&&(r=t);try{var n=o(e,!1)}catch(e){throw N(e),{stack:(new Error).stack,code:\"D3120\",value:e.message,error:e}}try{var i=yield*g(n,r,this.environment)}catch(e){throw N(e),{stack:(new Error).stack,code:\"D3121\",value:e.message,error:e}}return i}},\"<sx?:x>\")),v.bind(\"toMillis\",j(n.toMillis,\"<s-s?:n>\")),v.bind(\"fromMillis\",j(n.fromMillis,\"<n-s?s?:s>\")),v.bind(\"clone\",j(function(e){if(void 0!==e)return JSON.parse(i.string(e))},\"<(oa)-:o>\"));var F={S0101:\"String literal must be terminated by a matching quote\",S0102:\"Number out of range: {{token}}\",S0103:\"Unsupported escape sequence: \\\\{{token}}\",S0104:\"The escape sequence \\\\u must be followed by 4 hex digits\",S0105:\"Quoted property name must be terminated with a backquote (`)\",S0106:\"Comment has no closing tag\",S0201:\"Syntax error: {{token}}\",S0202:\"Expected {{value}}, got {{token}}\",S0203:\"Expected {{value}} before end of expression\",S0204:\"Unknown operator: {{token}}\",S0205:\"Unexpected token: {{token}}\",S0206:\"Unknown expression type: {{token}}\",S0207:\"Unexpected end of expression\",S0208:\"Parameter {{value}} of function definition must be a variable name (start with $)\",S0209:\"A predicate cannot follow a grouping expression in a step\",S0210:\"Each step can only have one grouping expression\",S0211:\"The symbol {{token}} cannot be used as a unary operator\",S0212:\"The left side of := must be a variable name (start with $)\",S0213:\"The literal value {{value}} cannot be used as a step within a path expression\",S0214:\"The right side of {{token}} must be a variable name (start with $)\",S0215:\"A context variable binding must precede any predicates on a step\",S0216:\"A context variable binding must precede the 'order-by' clause on a step\",S0217:\"The object representing the 'parent' cannot be derived from this expression\",S0301:\"Empty regular expressions are not allowed\",S0302:\"No terminating / in regular expression\",S0402:\"Choice groups containing parameterized types are not supported\",S0401:\"Type parameters can only be applied to functions and arrays\",S0500:\"Attempted to evaluate an expression containing syntax error(s)\",T0410:\"Argument {{index}} of function {{token}} does not match function signature\",T0411:\"Context value is not a compatible type with argument {{index}} of function {{token}}\",T0412:\"Argument {{index}} of function {{token}} must be an array of {{type}}\",D1001:\"Number out of range: {{value}}\",D1002:\"Cannot negate a non-numeric value: {{value}}\",T1003:\"Key in object structure must evaluate to a string; got: {{value}}\",D1004:\"Regular expression matches zero length string\",T1005:\"Attempted to invoke a non-function. Did you mean ${{{token}}}?\",T1006:\"Attempted to invoke a non-function\",T1007:\"Attempted to partially apply a non-function. Did you mean ${{{token}}}?\",T1008:\"Attempted to partially apply a non-function\",D1009:\"Multiple key definitio");
        builder.append("ns evaluate to same key: {{value}}\",T1010:\"The matcher function argument passed to function {{token}} does not return the correct object structure\",T2001:\"The left side of the {{token}} operator must evaluate to a number\",T2002:\"The right side of the {{token}} operator must evaluate to a number\",T2003:\"The left side of the range operator (..) must evaluate to an integer\",T2004:\"The right side of the range operator (..) must evaluate to an integer\",D2005:\"The left side of := must be a variable name (start with $)\",T2006:\"The right side of the function application operator ~> must be a function\",T2007:\"Type mismatch when comparing values {{value}} and {{value2}} in order-by clause\",T2008:\"The expressions within an order-by clause must evaluate to numeric or string values\",T2009:\"The values {{value}} and {{value2}} either side of operator {{token}} must be of the same data type\",T2010:\"The expressions either side of operator {{token}} must evaluate to numeric or string values\",T2011:\"The insert/update clause of the transform expression must evaluate to an object: {{value}}\",T2012:\"The delete clause of the transform expression must evaluate to a string or array of strings: {{value}}\",T2013:\"The transform expression clones the input object using the $clone() function.  This has been overridden in the current scope by a non-function.\",D2014:\"The size of the sequence allocated by the range operator (..) must not exceed 1e6.  Attempted to allocate {{value}}.\",D3001:\"Attempting to invoke string function on Infinity or NaN\",D3010:\"Second argument of replace function cannot be an empty string\",D3011:\"Fourth argument of replace function must evaluate to a positive number\",D3012:\"Attempted to replace a matched string with a non-string value\",D3020:\"Third argument of split function must evaluate to a positive number\",D3030:\"Unable to cast value to a number: {{value}}\",D3040:\"Third argument of match function must evaluate to a positive number\",D3050:\"The second argument of reduce function must be a function with at least two arguments\",D3060:\"The sqrt function cannot be applied to a negative number: {{value}}\",D3061:\"The power function has resulted in a value that cannot be represented as a JSON number: base={{value}}, exponent={{exp}}\",D3070:\"The single argument form of the sort function can only be applied to an array of strings or an array of numbers.  Use the second argument to specify a comparison function\",D3080:\"The picture string must only contain a maximum of two sub-pictures\",D3081:\"The sub-picture must not contain more than one instance of the 'decimal-separator' character\",D3082:\"The sub-picture must not contain more than one instance of the 'percent' character\",D3083:\"The sub-picture must not contain more than one instance of the 'per-mille' character\",D3084:\"The sub-picture must not contain both a 'percent' and a 'per-mille' character\",D3085:\"The mantissa part of a sub-picture must contain at least one character that is either an 'optional digit character' or a member of the 'decimal digit family'\",D3086:\"The sub-picture must not contain a passive character that is preceded by an active character and that is followed by another active character\",D3087:\"The sub-picture must not contain a 'grouping-separator' character that appears adjacent to a 'decimal-separator' character\",D3088:\"The sub-picture must not contain a 'grouping-separator' at the end of the integer part\",D3089:\"The sub-picture must not contain two adjacent instances of the 'grouping-separator' character\",D3090:\"The integer part of the sub-picture must not contain a member of the 'decimal digit family' that is followed by an instance of the 'optional digit character'\",D3091:\"The fractional part of the sub-picture must not contain an instance of the 'optional digit character' that is followed by a member of the 'decimal digit family'\",D3092:\"A sub-picture that contains a 'percent' or 'per-mille' character must not contain a character treated as an 'exponent-separator'\",D3093:\"The exponent part of the sub-picture must comprise only of one or more characters that are members of the 'decimal digit family'\",D3100:\"The radix of the formatBase function must be between 2 and 36.  It was given {{value}}\",D3110:\"The argument of the toMillis function must be an ISO 8601 formatted timestamp. Given {{value}}\",D3120:\"Syntax error in expression passed to function eval: {{value}}\",D3121:\"Dynamic error evaluating the expression passed to function eval: {{value}}\",D3130:\"Formatting or parsing an integer as a sequence starting with {{value}} is not supported by this implementation\",D3131:\"In a decimal digit pattern, all digits must be from the same decimal group\",D3132:\"Unknown component specifier {{value}} in date/time picture string\",D3133:\"The 'name' modifier can only be applied to months and days in the date/time picture string, not {{value}}\",D3134:\"The timezone integer format specifier cannot have more than four digits\",D3135:\"No matching closing bracket ']' in date/time picture string\",D3136:\"The date/time picture string is missing specifiers required to parse the timestamp\",D3137:\"{{{message}}}\",D3138:\"The $single() function expected exactly 1 matching result.  Instead it matched more.\",D3139:\"The $single() function expected exactly 1 matching result.  Instead it matched 0.\",D3140:\"Malformed URL passed to ${{{functionName}}}(): {{value}}\",D3141:\"{{{message}}}\"};function N(e){var t=F[e.code];if(void 0!==t){var r=t.replace(/\\{\\{\\{([^}]+)}}}/g,function(){return e[arguments[1]]});r=r.replace(/\\{\\{([^}]+)}}/g,function(){return JSON.stringify(e[arguments[1]])}),e.message=r}}function I(e,t){var r,i;try{r=o(e,t&&t.recover),i=r.errors,delete r.errors}catch(e){throw N(e),e}var a=U(v),s=new Date;return a.bind(\"now\",j(function(e,t){return n.fromMillis(s.getTime(),e,t)},\"<s?s?:s>\")),a.bind(\"millis\",j(function(){return s.getTime()},\"<:n>\")),{evaluate:function(e,t,n){if(void 0!==i){var o={code:\"S0500\",position:0};throw N(o),o}var l,p,f;if(void 0!==t)for(var d in l=U(a),t)l.bind(d,t[d]);else l=a;if(l.bind(\"$\",e),s=new Date,l.timestamp=s,Array.isArray(e)&&!c(e)&&((e=u(e)).outerWrapper=!0),\"function\"==typeof n){l.async=!0;var h=function(e){N(e),n(e,null)},v=function(e){(p=f.next(e)).done?n(null,p.value):p.value.then(v).catch(h)};f=g(r,e,l),(p=f.next()).value.then(v).catch(h)}else try{for(f=g(r,e,l),p=f.next();!p.done;)p=f.next(p.value);return p.value}catch(o){throw N(o),o}},assign:function(e,t){a.bind(e,t)},registerFunction:function(e,t,r){var n=j(t,r);a.bind(e,n)},ast:function(){return r},errors:function(){return i}}}return I.parser=o,I}();t.exports=u},{\"./datetime\":1,\"./functions\":2,\"./parser\":4,\"./signature\":5,\"./utils\":6}],4:[function(e,t,r){var n=e(\"./signature\");const i=(()=>{\"use strict\";var e={\".\":75,\"[\":80,\"]\":0,\"{\":70,\"}\":0,\"(\":80,\")\":0,\",\":0,\"@\":80,\"#\":80,\";\":80,\":\":80,\"?\":20,\"+\":50,\"-\":50,\"*\":60,\"/\":60,\"%\":60,\"|\":20,\"=\":40,\"<\":40,\">\":40,\"^\":40,\"**\":60,\"..\":20,\":=\":10,\"!=\":40,\"<=\":40,\">=\":40,\"~>\":40,and:30,or:25,in:40,\"&\":50,\"!\":0,\"~\":0},t={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"},r=function(r){var n=0,i=r.length,a=function(e,t){return{type:e,value:t,position:n}},o=function(s){if(n>=i)return null;for(var u=r.charAt(n);n<i&&\" \\t\\n\\r\\v\".indexOf(u)>-1;)n++,u=r.charAt(n);if(\"/\"===u&&\"*\"===r.charAt(n+1)){var c=n;for(n+=2,u=r.charAt(n);\"*\"!==u||\"/\"!==r.charAt(n+1);)if(u=r.charAt(++n),n>=i)throw{code:\"S0106\",stack:(new Error).stack,position:c};return n+=2,u=r.charAt(n),o(s)}if(!0!==s&&\"/\"===u)return n++,a(\"regex\",function(){for(var e,t,a=n,o=0;n<i;){var s=r.charAt(n);if(\"/\"===s&&\"\\\\\"!==r.charAt(n-1)&&0===o){if(\"\"===(e=r.substring(a,n)))throw{code:\"S0301\",stack:(new Error).stack,position:n};for(n++,s=r.charAt(n),a=n;\"i\"===s||\"m\"===s;)n++,s=r.charAt(n);return t=r.substring(a,n)+\"g\",new RegExp(e,t)}\"(\"!==s&&\"[\"!==s&&\"{\"!==s||\"\\\\\"===r.charAt(n-1)||o++,\")\"!==s&&\"]\"!==s&&\"}\"!==s||\"\\\\\"===r.charAt(n-1)||o--,n++}throw{code:\"S0302\",stack:(new Error).stack,position:n}}());if(\".\"===u&&\".\"===r.charAt(n+1))return n+=2,a(\"operator\",\"..\");if(\":\"===u&&\"=\"===r.charAt(n+1))return n+=2,a(\"operator\",\":=\");if(\"!\"===u&&\"=\"===r.charAt(n+1))return n+=2,a(\"operator\",\"!=\");if(\">\"===u&&\"=\"===r.charAt(n+1))return n+=2,a(\"operator\",\">=\");if(\"<\"===u&&\"=\"===r.charAt(n+1))return n+=2,a(\"operator\",\"<=\");if(\"*\"===u&&\"*\"===r.charAt(n+1))return n+=2,a(\"operator\",\"**\");if(\"~\"===u&&\">\"===r.charAt(n+1))return n+=2,a(\"operator\",\"~>\");if(Object.prototype.hasOwnProperty.call(e,u))return n++,a(\"operator\",u);if('\"'===u||\"'\"===u){var l=u;n++;for(var p=\"\";n<i;){if(\"\\\\\"===(u=r.charAt(n)))if(n++,u=r.charAt(n),Object.prototype.hasOwnProperty.call(t,u))p+=t[u];else{if(\"u\"!==u)throw{code:\"S0103\",stack:(new Error).stack,position:n,token:u};var f=r.substr(n+1,4);if(!/^[0-9a-fA-F]+$/.test(f))throw{code:\"S0104\",stack:(new Error).stack,position:n};var d=parseInt(f,16);p+=String.fromCharCode(d),n+=4}else{if(u===l)return n++,a(\"string\",p);p+=u}n++}throw{code:\"S0101\",stack:(new Error).stack,position:n}}var h,v=/^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/.exec(r.substring(n));if(null!==v){var g=parseFloat(v[0]);if(!isNaN(g)&&isFinite(g))return n+=v[0].length,a(\"number\",g);throw{code:\"S0102\",stack:(new Error).stack,position:n,token:v[0]}}if(\"`\"===u){n++;var y=r.indexOf(\"`\",n);if(-1!==y)return h=r.substring(n,y),n=y+1,a(\"name\",h);throw n=i,{code:\"S0105\",stack:(new Error).stack,position:n}}for(var m,b=n;;)if(m=r.charAt(b),b===i||\" \\t\\n\\r\\v\".indexOf(m)>-1||Object.prototype.hasOwnProperty.call(e,m)){if(\"$\"===r.charAt(n))return h=r.substring(n+1,b),n=b,a(\"variable\",h);switch(h=r.substring(n,b),n=b,h){case\"or\":case\"in\":case\"and\":return a(\"operator\",h);case\"true\":return a(\"value\",!0);case\"false\":return a(\"value\",!1);case\"null\":return a(\"value\",null);default:return n===i&&\"\"===h?null:a(\"name\",h)}}else b++};return o};return function(t,i){var a,o,s={},u=[],c=function(){var e=[];\"(end)\"!==a.id&&e.push({type:a.type,value:a.value,position:a.position});for(var t=o();null!==t;)e.push(t),t=o();return e},l={nud:function(){var e={code:\"S0211\",token:this.value,position:this.position};if(i)return e.remaining=c(),e.type=\"error\",u.push(e),e;throw e.stack=(new Error).stack,e}},p=function(e,t){var r=s[e];return t=t||0,r?t>=r.lbp&&(r.lbp=t):((r=Object.create(l)).id=r.value=e,r.lbp=t,s[e]=r),r},f=function(e){if(i){e.remaining=c(),u.push(e);var t=s[\"(error)\"];return(a=Object.create(t)).error=e,a.type=\"(error)\",a}throw e.stack=(new Error).stack,e},d=function(e,r){if(e&&a.id!==e){var n={code:\"(end)\"===a.id?\"S0203\":\"S0202\",position:a.position,token:a.value,value:e};return f(n)}var i=o(r);if(null===i)return(a=s[\"(end)\"]).position=t.length,a;var u,c=i.value,l=i.type;switch(l){case\"name\":case\"variable\":u=s[\"(name)\"];break;case\"operator\":if(!(u=s[c]))return f({code:\"S0204\",stack:(new Error).stack,position:i.position,token:c});break;case\"string\":case\"number\":case\"value\":u=s[\"(literal)\"];break;case\"regex\":l=\"regex\",u=s[\"(regex)\"];break;default:return f({code:\"S0205\",stack:(new Error).stack,position:i.position,token:c})}return(a=Object.create(u)).value=c,a.type=l,a.position=i.position,a},h=function(e){var t,r=a;for(d(null,!0),t=r.nud();e<a.lbp;)r=a,d(),t=r.led(t);return t},v=function(e){p(e,0).nud=function(){return this}},g=function(t,r,n){var i=r||e[t],a=p(t,i);return a.led=n||function(e){return this.lhs=e,this.rhs=h(i),this.type=\"binary\",this},a},y=function(e,t,r){var n=p(e,t);return n.led=r,n},m=function(e,t){var r=p(e);return r.nud=t||function(){return this.expression=h(70),this.type=\"unary\",this},r};v(\"(end)\"),v(\"(name)\"),v(\"(literal)\"),v(\"(regex)\"),p(\":\"),p(\";\"),p(\",\"),p(\")\"),p(\"]\"),p(\"}\"),p(\"..\"),g(\".\"),g(\"+\"),g(\"-\"),g(\"*\"),g(\"/\"),g(\"%\"),g(\"=\"),g(\"<\"),g(\">\"),g(\"!=\"),g(\"<=\"),g(\">=\"),g(\"&\"),g(\"and\"),g(\"or\"),g(\"in\"),v(\"and\"),v(\"or\"),v(\"in\"),m(\"-\"),g(\"~>\"),y(\"(error)\",10,function(e){return this.lhs=e,this.error=a.error,this.remaining=c(),this.type=\"error\",this}),m(\"*\",function(){return this.type=\"wildcard\",this}),m(\"**\",function(){return this.type=\"descendant\",this}),m(\"%\",function(){return this.type=\"parent\",this}),g(\"(\",e[\"(\"],function(e){if(this.procedure=e,this.type=\"function\",this.arguments=[],\")\"!==a.id)for(;\"operator\"===a.type&&\"?\"===a.id?(this.type=\"partial\",this.arguments.push(a),d(\"?\")):this.arguments.push(h(0)),\",\"===a.id;)d(\",\");if(d(\")\",!0),\"name\"===e.type&&(\"function\"===e.value||\"Î»\"===e.value)){if(this.arguments.forEach(function(e,t){if(\"variable\"!==e.type)return f({code:\"S0208\",stack:(new Error).stack,position:e.position,token:e.value,value:t+1})}),this.type=\"lambda\",\"<\"===a.id){for(var t=a.position,r=1,i=\"<\";r>0&&\"{\"!==a.id&&\"(end)\"!==a.id;){var o=d();\">\"===o.id?r--:\"<\"===o.id&&r++,i+=o.value}d(\">\");try{this.signature=n(i)}catch(e){return e.position=t+e.offset,f(e)}}d(\"{\"),this.body=h(0),d(\"}\")}return this}),m(\"(\",function(){for(var e=[];\")\"!==a.id&&(e.push(h(0)),\";\"===a.id);)d(\";\");return d(\")\",!0),this.type=\"block\",this.expressions=e,this}),m(\"[\",function(){var e=[];if(\"]\"!==a.id)for(;;){var t=h(0);if(\"..\"===a.id){var r={type:\"binary\",value:\"..\",position:a.position,lhs:t};d(\"..\"),r.rhs=h(0),t=r}if(e.push(t),\",\"!==a.id)break;d(\",\")}return d(\"]\",!0),this.expressions=e,this.type=\"unary\",this}),g(\"[\",e[\"[\"],function(t){if(\"]\"===a.id){for(var r=t;r&&\"binary\"===r.type&&\"[\"===r.value;)r=r.lhs;return r.keepArray=!0,d(\"]\"),t}return this.lhs=t,this.rhs=h(e[\"]\"]),this.type=\"binary\",d(\"]\",!0),this}),g(\"^\",e[\"^\"],function(e){d(\"(\");for(var t=[];;){var r={descending:!1};if(\"<\"===a.id?d(\"<\"):\">\"===a.id&&(r.descending=!0,d(\">\")),r.expression=h(0),t.push(r),\",\"!==a.id)break;d(\",\")}return d(\")\"),this.lhs=e,this.rhs=t,this.type=\"binary\",this});var b=function(e){var t=[];if(\"}\"!==a.id)for(;;){var r=h(0);d(\":\");var n=h(0);if(t.push([r,n]),\",\"!==a.id)break;d(\",\")}return d(\"}\",!0),void 0===e?(this.lhs=t,this.type=\"unary\"):(this.lhs=e,this.rhs=t,this.type=\"binary\"),this};m(\"{\",b),g(\"{\",e[\"{\"],b),y(\":=\",e[\":=\"],function(t){return\"variable\"!==t.type?f({code:\"S0212\",stack:(new Error).stack,position:t.position,token:t.value}):(this.lhs=t,this.rhs=h(e[\":=\"]-1),this.type=\"binary\",this)}),g(\"@\",e[\"@\"],function(t){return this.lhs=t,this.rhs=h(e[\"@\"]),\"variable\"!==this.rhs.type?f({code:\"S0214\",stack:(new Error).stack,position:this.rhs.position,token:\"@\"}):(this.type=\"binary\",this)}),g(\"#\",e[\"#\"],function(t){return this.lhs=t,this.rhs=h(e[\"#\"]),\"variable\"!==this.rhs.type?f({code:\"S0214\",stack:(new Error).stack,position:this.rhs.position,token:\"#\"}):(this.type=\"binary\",this)}),g(\"?\",e[\"?\"],function(e){return this.type=\"condition\",this.condition=e,this.then=h(0),\":\"===a.id&&(d(\":\"),this.else=h(0)),this}),m(\"|\",function(){return this.type=\"transform\",this.pattern=h(0),d(\"|\"),this.update=h(0),\",\"===a.id&&(d(\",\"),this.delete=h(0)),d(\"|\"),this});var k=function(e){var t;if(\"function\"!==e.type||e.predicate)if(\"condition\"===e.type)e.then=k(e.then),void 0!==e.else&&(e.else=k(e.else)),t=e;else if(\"block\"===e.type){var r=e.expressions.length;r>0&&(e.expressions[r-1]=k(e.expressions[r-1])),t=e}else t=e;else{var n={type:\"lambda\",thunk:!0,arguments:[],position:e.position};n.body=e,t=n}return t},x=0,w=0,A=[],E=function(e,t){switch(e.type){case\"name\":case\"wildcard\":t.level--,0===t.level&&(void 0===e.ancestor?e.ancestor=t:(A[t.index].slot.label=e.ancestor.label,e.ancestor=t),e.tuple=!0);break;case\"parent\":t.level++;break;case\"block\":e.expressions.length>0&&(e.tuple=!0,t=E(e.expressions[e.expressions.length-1],t));break;case\"path\":e.tuple=!0;var r=e.steps.length-1;for(t=E(e.steps[r--],t);t.level>0&&r>=0;)t=E(e.steps[r--],t);break;default:throw{code:\"S0217\",token:e.type,position:e.position}}return t},D=function(e,t){if(void 0!==t.seekingParent||\"parent\"===t.type){var r=void 0!==t.seekingParent?t.seekingParent:[];\"parent\"===t.type&&r.push(t.slot),void 0===e.seekingParent?e.seekingParent=r:Array.prototype.push.apply(e.seekingParent,r)}},T=function(e){var t=e.steps.length-1,r=e.steps[t],n=void 0!==r.seekingParent?r.seekingParent:[];\"parent\"===r.type&&n.push(r.slot);for(var i=0;i<n.length;i++){var a=n[i];for(t=e.steps.length-2;a.level>0;){if(t<0){void 0===e.seekingParent?e.seekingParent=[a]:e.seekingParent.push(a);break}for(var o=e.steps[t--];t>=0&&o.focus&&e.steps[t].focus;)o=e.steps[t--];a=E(o,a)}}},S=function(e){var t;switch(e.type){case\"binary\":switch(e.value){case\".\":var r=S(e.lhs);t=\"path\"===r.type?r:{type:\"path\",steps:[r]},\"parent\"===r.type&&(t.seekingParent=[r.slot]);var n=S(e.rhs);\"function\"===n.type&&\"path\"===n.procedure.type&");
        builder.append("&1===n.procedure.steps.length&&\"name\"===n.procedure.steps[0].type&&\"function\"===t.steps[t.steps.length-1].type&&(t.steps[t.steps.length-1].nextFunction=n.procedure.steps[0].value),\"path\"===n.type?Array.prototype.push.apply(t.steps,n.steps):(void 0!==n.predicate&&(n.stages=n.predicate,delete n.predicate),t.steps.push(n)),t.steps.filter(function(e){if(\"number\"===e.type||\"value\"===e.type)throw{code:\"S0213\",stack:(new Error).stack,position:e.position,value:e.value};return\"string\"===e.type}).forEach(function(e){e.type=\"name\"}),t.steps.filter(function(e){return!0===e.keepArray}).length>0&&(t.keepSingletonArray=!0);var a=t.steps[0];\"unary\"===a.type&&\"[\"===a.value&&(a.consarray=!0);var o=t.steps[t.steps.length-1];\"unary\"===o.type&&\"[\"===o.value&&(o.consarray=!0),T(t);break;case\"[\":var s=t=S(e.lhs),c=\"predicate\";if(\"path\"===t.type&&(s=t.steps[t.steps.length-1],c=\"stages\"),void 0!==s.group)throw{code:\"S0209\",stack:(new Error).stack,position:e.position};void 0===s[c]&&(s[c]=[]);var l=S(e.rhs);void 0!==l.seekingParent&&(l.seekingParent.forEach(e=>{1===e.level?E(s,e):e.level--}),D(s,l)),s[c].push({type:\"filter\",expr:l,position:e.position});break;case\"{\":if(void 0!==(t=S(e.lhs)).group)throw{code:\"S0210\",stack:(new Error).stack,position:e.position};t.group={lhs:e.rhs.map(function(e){return[S(e[0]),S(e[1])]}),position:e.position};break;case\"^\":\"path\"!==(t=S(e.lhs)).type&&(t={type:\"path\",steps:[t]});var p={type:\"sort\",position:e.position};p.terms=e.rhs.map(function(e){var t=S(e.expression);return D(p,t),{descending:e.descending,expression:t}}),t.steps.push(p),T(t);break;case\":=\":(t={type:\"bind\",value:e.value,position:e.position}).lhs=S(e.lhs),t.rhs=S(e.rhs),D(t,t.rhs);break;case\"@\":if(t=S(e.lhs),s=t,\"path\"===t.type&&(s=t.steps[t.steps.length-1]),void 0!==s.stages||void 0!==s.predicate)throw{code:\"S0215\",stack:(new Error).stack,position:e.position};if(\"sort\"===s.type)throw{code:\"S0216\",stack:(new Error).stack,position:e.position};e.keepArray&&(s.keepArray=!0),s.focus=e.rhs.value,s.tuple=!0;break;case\"#\":t=S(e.lhs),s=t,\"path\"===t.type?s=t.steps[t.steps.length-1]:(t={type:\"path\",steps:[t]},void 0!==s.predicate&&(s.stages=s.predicate,delete s.predicate)),void 0===s.stages?s.index=e.rhs.value:s.stages.push({type:\"index\",value:e.rhs.value,position:e.position}),s.tuple=!0;break;case\"~>\":(t={type:\"apply\",value:e.value,position:e.position}).lhs=S(e.lhs),t.rhs=S(e.rhs);break;default:(t={type:e.type,value:e.value,position:e.position}).lhs=S(e.lhs),t.rhs=S(e.rhs),D(t,t.lhs),D(t,t.rhs)}break;case\"unary\":t={type:e.type,value:e.value,position:e.position},\"[\"===e.value?t.expressions=e.expressions.map(function(e){var r=S(e);return D(t,r),r}):\"{\"===e.value?t.lhs=e.lhs.map(function(e){var r=S(e[0]);D(t,r);var n=S(e[1]);return D(t,n),[r,n]}):(t.expression=S(e.expression),\"-\"===e.value&&\"number\"===t.expression.type?(t=t.expression).value=-t.value:D(t,t.expression));break;case\"function\":case\"partial\":(t={type:e.type,name:e.name,value:e.value,position:e.position}).arguments=e.arguments.map(function(e){var r=S(e);return D(t,r),r}),t.procedure=S(e.procedure);break;case\"lambda\":t={type:e.type,arguments:e.arguments,signature:e.signature,position:e.position};var f=S(e.body);t.body=k(f);break;case\"condition\":(t={type:e.type,position:e.position}).condition=S(e.condition),D(t,t.condition),t.then=S(e.then),D(t,t.then),void 0!==e.else&&(t.else=S(e.else),D(t,t.else));break;case\"transform\":(t={type:e.type,position:e.position}).pattern=S(e.pattern),t.update=S(e.update),void 0!==e.delete&&(t.delete=S(e.delete));break;case\"block\":(t={type:e.type,position:e.position}).expressions=e.expressions.map(function(e){var r=S(e);return D(t,r),(r.consarray||\"path\"===r.type&&r.steps[0].consarray)&&(t.consarray=!0),r});break;case\"name\":t={type:\"path\",steps:[e]},e.keepArray&&(t.keepSingletonArray=!0);break;case\"parent\":t={type:\"parent\",slot:{label:\"!\"+x++,level:1,index:w++}},A.push(t);break;case\"string\":case\"number\":case\"value\":case\"wildcard\":case\"descendant\":case\"variable\":case\"regex\":t=e;break;case\"operator\":if(\"and\"===e.value||\"or\"===e.value||\"in\"===e.value)e.type=\"name\",t=S(e);else{if(\"?\"!==e.value)throw{code:\"S0201\",stack:(new Error).stack,position:e.position,token:e.value};t=e}break;case\"error\":t=e,e.lhs&&(t=S(e.lhs));break;default:var d=\"S0206\";\"(end)\"===e.id&&(d=\"S0207\");var h={code:d,position:e.position,token:e.value};if(i)return u.push(h),{type:\"error\",error:h};throw h.stack=(new Error).stack,h}return e.keepArray&&(t.keepArray=!0),t};o=r(t),d();var O=h(0);if(\"(end)\"!==a.id){var P={code:\"S0201\",position:a.position,token:a.value};f(P)}if(\"parent\"===(O=S(O)).type||void 0!==O.seekingParent)throw{code:\"S0217\",token:O.type,position:O.position};return u.length>0&&(O.errors=u),O}})();t.exports=i},{\"./signature\":5}],5:[function(e,t,r){var n=e(\"./utils\");const i=(()=>{\"use strict\";var e={a:\"arrays\",b:\"booleans\",f:\"functions\",n:\"numbers\",o:\"objects\",s:\"strings\"};return function(t){for(var r=1,i=[],a={},o=a;r<t.length;){var s=t.charAt(r);if(\":\"===s)break;var u=function(){i.push(a),o=a,a={}},c=function(e,t,r,n){for(var i=1,a=t;a<e.length;)if(a++,(s=e.charAt(a))===n){if(0==--i)break}else s===r&&i++;return a};switch(s){case\"s\":case\"n\":case\"b\":case\"l\":case\"o\":a.regex=\"[\"+s+\"m]\",a.type=s,u();break;case\"a\":a.regex=\"[asnblfom]\",a.type=s,a.array=!0,u();break;case\"f\":a.regex=\"f\",a.type=s,u();break;case\"j\":a.regex=\"[asnblom]\",a.type=s,u();break;case\"x\":a.regex=\"[asnblfom]\",a.type=s,u();break;case\"-\":o.context=!0,o.contextRegex=new RegExp(o.regex),o.regex+=\"?\";break;case\"?\":case\"+\":o.regex+=s;break;case\"(\":var l=c(t,r,\"(\",\")\"),p=t.substring(r+1,l);if(-1!==p.indexOf(\"<\"))throw{code:\"S0402\",stack:(new Error).stack,value:p,offset:r};a.regex=\"[\"+p+\"m]\",a.type=\"(\"+p+\")\",r=l,u();break;case\"<\":if(\"a\"!==o.type&&\"f\"!==o.type)throw{code:\"S0401\",stack:(new Error).stack,value:o.type,offset:r};var f=c(t,r,\"<\",\">\");o.subtype=t.substring(r+1,f),r=f}r++}var d=\"^\"+i.map(function(e){return\"(\"+e.regex+\")\"}).join(\"\")+\"$\",h=new RegExp(d),v=function(e){var t;if(n.isFunction(e))t=\"f\";else switch(typeof e){case\"string\":t=\"s\";break;case\"number\":t=\"n\";break;case\"boolean\":t=\"b\";break;case\"object\":t=null===e?\"l\":Array.isArray(e)?\"a\":\"o\";break;case\"undefined\":default:t=\"m\"}return t};return{definition:t,validate:function(t,r){var n=\"\";t.forEach(function(e){n+=v(e)});var a=h.exec(n);if(a){var o=[],s=0;return i.forEach(function(n,i){var u=t[s],c=a[i+1];if(\"\"===c)if(n.context&&n.contextRegex){var l=v(r);if(!n.contextRegex.test(l))throw{code:\"T0411\",stack:(new Error).stack,value:r,index:s+1};o.push(r)}else o.push(u),s++;else c.split(\"\").forEach(function(r){if(\"a\"===n.type){if(\"m\"===r)u=void 0;else{u=t[s];var i=!0;if(void 0!==n.subtype)if(\"a\"!==r&&c!==n.subtype)i=!1;else if(\"a\"===r&&u.length>0){var a=v(u[0]);i=a===n.subtype.charAt(0)&&0===u.filter(function(e){return v(e)!==a}).length}if(!i)throw{code:\"T0412\",stack:(new Error).stack,value:u,index:s+1,type:e[n.subtype]};\"a\"!==r&&(u=[u])}o.push(u),s++}else o.push(u),s++})}),o}!function(e,t){for(var r=\"^\",n=0,a=0;a<i.length;a++){r+=i[a].regex;var o=t.match(r);if(null===o)throw{code:\"T0410\",stack:(new Error).stack,value:e[n],index:n+1};n=o[0].length}throw{code:\"T0410\",stack:(new Error).stack,value:e[n],index:n+1}}(t,n)}}}})();t.exports=i},{\"./utils\":6}],6:[function(e,t,r){const n=(()=>{\"use strict\";function e(e){var t=!1;if(\"number\"==typeof e&&(t=!isNaN(e))&&!isFinite(e))throw{code:\"D1001\",value:e,stack:(new Error).stack};return t}var t=(\"function\"==typeof Symbol?Symbol:{}).iterator||\"@@iterator\";return{isNumeric:e,isArrayOfStrings:function(e){var t=!1;return Array.isArray(e)&&(t=0===e.filter(function(e){return\"string\"!=typeof e}).length),t},isArrayOfNumbers:function(t){var r=!1;return Array.isArray(t)&&(r=0===t.filter(function(t){return!e(t)}).length),r},createSequence:function(){var e=[];return e.sequence=!0,1===arguments.length&&e.push(arguments[0]),e},isSequence:function(e){return!0===e.sequence&&Array.isArray(e)},isFunction:function(e){return e&&(!0===e._jsonata_function||!0===e._jsonata_lambda)||\"function\"==typeof e},isLambda:function(e){return e&&!0===e._jsonata_lambda},isIterable:function(e){return\"object\"==typeof e&&null!==e&&t in e&&\"next\"in e&&\"function\"==typeof e.next},getFunctionArity:function(e){return\"number\"==typeof e.arity?e.arity:\"function\"==typeof e.implementation?e.implementation.length:\"number\"==typeof e.length?e.length:e.arguments.length},isDeepEqual:function e(t,r){if(t===r)return!0;if(\"object\"==typeof t&&\"object\"==typeof r&&null!==t&&null!==r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}var i=Object.getOwnPropertyNames(t),a=Object.getOwnPropertyNames(r);if(i.length!==a.length)return!1;for(i=i.sort(),a=a.sort(),n=0;n<i.length;n++)if(i[n]!==a[n])return!1;for(n=0;n<i.length;n++){var o=i[n];if(!e(t[o],r[o]))return!1}return!0}return!1}}})();t.exports=n},{}]},{},[3])(3)});");
        return builder.toString();
      }
      public String getName() {
        return "jsonata";
      }
    }
    ;
  }
  private static class jsonataInitializer {
    static {
      _instance0.jsonataInitializer();
    }
    static com.google.gwt.resources.client.TextResource get() {
      return jsonata;
    }
  }
  public com.google.gwt.resources.client.TextResource jsonata() {
    return jsonataInitializer.get();
  }
  private static java.util.HashMap<java.lang.String, com.google.gwt.resources.client.ResourcePrototype> resourceMap;
  private static com.google.gwt.resources.client.TextResource jsYaml;
  private static com.google.gwt.resources.client.TextResource jsonata;
  
  public ResourcePrototype[] getResources() {
    return new ResourcePrototype[] {
      jsYaml(), 
      jsonata(), 
    };
  }
  public ResourcePrototype getResource(String name) {
    if (GWT.isScript()) {
      return getResourceNative(name);
    } else {
      if (resourceMap == null) {
        resourceMap = new java.util.HashMap<java.lang.String, com.google.gwt.resources.client.ResourcePrototype>();
        resourceMap.put("jsYaml", jsYaml());
        resourceMap.put("jsonata", jsonata());
      }
      return resourceMap.get(name);
    }
  }
  private native ResourcePrototype getResourceNative(String name) /*-{
    switch (name) {
      case 'jsYaml': return this.@org.dashbuilder.client.resources.NativeLibraryResources::jsYaml()();
      case 'jsonata': return this.@org.dashbuilder.client.resources.NativeLibraryResources::jsonata()();
    }
    return null;
  }-*/;
}
